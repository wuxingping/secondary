{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\caoxue\\\\Desktop\\\\secondary\\\\secondary\\\\src\\\\share\\\\search\\\\index.js\";\n\n/**\r\n * Created by Lenovo on 2019/8/18.\r\n */\nimport React from 'react';\nimport './index.css';\nimport search from '../image/search/search.png';\nimport close from '../image/search/close.png';\nexport default class Search extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isShowClose: false //是否显示搜索框右边关闭按钮\n\n    };\n  }\n\n  componentDidMount() {\n    console.log(this);\n    var content = this.refs.content;\n    var beforeStyle = window.getComputedStyle(content, \":before\");\n    beforeStyle.backgroundImage = \"url(\" + search + \")\";\n  }\n\n  onLeftClick() {\n    const leftClick = this.props.leftClick;\n    var key = this.refs.input.value;\n\n    if (leftClick) {\n      leftClick(key);\n    }\n  }\n\n  rightClick() {\n    const rightClick = this.props.rightClick;\n\n    if (rightClick) {\n      rightClick();\n    }\n  } //点击搜索框右边关闭图标时，清楚搜索内容并删除图标\n\n\n  closeValue() {\n    this.refs.input.value = '';\n    this.setState({\n      isShowClose: false\n    });\n  } //点击搜索框进行关键字搜索时，出现右边关闭图标\n\n\n  onChange(event) {\n    if (event.target.value == '') {\n      this.setState({\n        isShowClose: false\n      });\n    } else {\n      this.setState({\n        isShowClose: true\n      });\n    }\n  }\n\n  render() {\n    const _this$props = this.props,\n          searchIcon = _this$props.searchIcon,\n          leftClick = _this$props.leftClick,\n          rightIcon = _this$props.rightIcon,\n          rightClick = _this$props.rightClick,\n          placeholder = _this$props.placeholder;\n    return React.createElement(\"div\", {\n      className: \"index-fill\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"index-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"cm-flex cm-width-full index-content\",\n      ref: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: searchIcon ? searchIcon : search,\n      alt: \"\",\n      className: \"index-search\",\n      onClick: () => this.onLeftClick(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      ref: \"input\",\n      className: \"index-input\",\n      placeholder: placeholder,\n      onChange: e => this.onChange(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }), this.state.isShowClose ? React.createElement(\"img\", {\n      src: close,\n      alt: \"\",\n      className: \"index-close\",\n      onClick: () => this.closeValue(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }) : null), React.createElement(\"img\", {\n      src: rightIcon,\n      alt: \"\",\n      className: \"cm-img-mid\",\n      onClick: () => this.rightClick(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["C:\\Users\\caoxue\\Desktop\\secondary\\secondary\\src\\share\\search\\index.js"],"names":["React","search","close","Search","Component","constructor","props","state","isShowClose","componentDidMount","console","log","content","refs","beforeStyle","window","getComputedStyle","backgroundImage","onLeftClick","leftClick","key","input","value","rightClick","closeValue","setState","onChange","event","target","render","searchIcon","rightIcon","placeholder","e"],"mappings":"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","sourcesContent":["/**\r\n * Created by Lenovo on 2019/8/18.\r\n */\r\nimport React from 'react';\r\nimport './index.css';\r\nimport search from '../image/search/search.png';\r\nimport close from '../image/search/close.png';\r\nexport default class Search extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isShowClose:false,//是否显示搜索框右边关闭按钮\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        console.log(this);\r\n        var content = this.refs.content;\r\n        var beforeStyle = window.getComputedStyle(content, \":before\");\r\n        beforeStyle.backgroundImage = \"url(\"+search+\")\";\r\n\r\n    }\r\n    onLeftClick(){\r\n        const {leftClick} =this.props;\r\n        var key = this.refs.input.value;\r\n        if(leftClick){\r\n            leftClick(key);\r\n        }\r\n    }\r\n    rightClick(){\r\n        const {rightClick} =this.props;\r\n        if(rightClick){\r\n            rightClick();\r\n        }\r\n    }\r\n    //点击搜索框右边关闭图标时，清楚搜索内容并删除图标\r\n    closeValue(){\r\n        this.refs.input.value = '';\r\n        this.setState({\r\n            isShowClose:false\r\n        });\r\n    }\r\n    //点击搜索框进行关键字搜索时，出现右边关闭图标\r\n    onChange(event){\r\n        if(event.target.value == ''){\r\n            this.setState({\r\n                isShowClose:false\r\n            })\r\n        }else {\r\n            this.setState({\r\n                isShowClose:true\r\n            })\r\n        }\r\n    }\r\n    render() {\r\n        const {searchIcon,leftClick,rightIcon,rightClick,placeholder} =this.props;\r\n        return(\r\n            <div className=\"index-fill\">\r\n                <div className=\"index-box\">\r\n                    <div className=\"cm-flex cm-width-full index-content\" ref=\"content\">\r\n                        <img src={searchIcon?searchIcon:search} alt=\"\" className=\"index-search\" onClick={()=>this.onLeftClick()}/>\r\n                        <input type=\"text\"  ref=\"input\" className=\"index-input\" placeholder={placeholder} onChange={(e)=>this.onChange(e)}/>\r\n                        {this.state.isShowClose?\r\n                            <img src={close} alt=\"\" className=\"index-close\" onClick={()=>this.closeValue()}/>:null\r\n                        }\r\n                    </div>\r\n                    <img src={rightIcon} alt=\"\" className=\"cm-img-mid\" onClick={()=>this.rightClick()}/>\r\n                </div>\r\n            </div>\r\n            )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}