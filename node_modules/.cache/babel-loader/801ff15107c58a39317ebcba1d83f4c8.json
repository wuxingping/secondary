{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\caoxue\\\\Desktop\\\\secondary\\\\src\\\\share\\\\search\\\\index.js\";\n\n/**\r\n * Created by Lenovo on 2019/8/18.\r\n */\nimport React from 'react';\nimport './index.css';\nimport { defaultProps } from './defaultProps';\nexport default class Search extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isShowClose: false //是否显示搜索框右边关闭按钮\n\n    };\n  }\n\n  componentDidMount() {}\n\n  leftClick() {\n    this.callBack();\n  }\n\n  callBack() {\n    const leftClick = this.props.leftClick;\n    var key = this.refs.input.value;\n\n    if (leftClick) {\n      leftClick(key);\n    }\n  }\n\n  rightClick() {\n    const rightClick = this.props.rightClick;\n\n    if (rightClick) {\n      rightClick();\n    }\n  } //点击搜索框右边关闭图标时，清楚搜索内容并删除图标\n\n\n  closeValue() {\n    this.refs.input.value = '';\n    this.setState({\n      isShowClose: false\n    });\n  } //点击搜索框进行关键字搜索时，出现右边关闭图标\n\n\n  onChange(event) {\n    if (event.target.value == '') {\n      this.setState({\n        isShowClose: false\n      });\n    } else {\n      this.setState({\n        isShowClose: true\n      });\n    }\n  }\n\n  keyPress(e) {\n    if (e.code == 13) {\n      this.refs.input.blur();\n      this.callBack();\n    }\n  }\n\n  render() {\n    const _this$props = this.props,\n          prefixCls = _this$props.prefixCls,\n          searchIcon = _this$props.searchIcon,\n          rightIcon = _this$props.rightIcon,\n          placeholder = _this$props.placeholder,\n          closeIcon = _this$props.closeIcon;\n    return React.createElement(\"div\", {\n      className: prefixCls,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: prefixCls + \"-layout\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: prefixCls + \"-content-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: searchIcon,\n      alt: \"\",\n      className: prefixCls + \"-search-icon\",\n      onClick: () => this.leftClick(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }), React.createElement(\"form\", {\n      action: \"\",\n      className: prefixCls + \"-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"search\",\n      ref: \"input\",\n      className: prefixCls + \"-input\",\n      placeholder: placeholder,\n      onChange: e => this.onChange(e),\n      onKeyPress: e => this.keyPress(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    })), this.state.isShowClose ? React.createElement(\"img\", {\n      src: closeIcon,\n      alt: \"\",\n      className: prefixCls + \"-close-icon\",\n      onClick: () => this.closeValue(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }) : null), React.createElement(\"img\", {\n      src: rightIcon,\n      alt: \"\",\n      className: prefixCls + \"-right-icon\",\n      onClick: () => this.rightClick(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    })));\n  }\n\n}\nSearch.defaultProps = defaultProps;","map":{"version":3,"sources":["C:\\Users\\caoxue\\Desktop\\secondary\\src\\share\\search\\index.js"],"names":["React","defaultProps","Search","Component","constructor","props","state","isShowClose","componentDidMount","leftClick","callBack","key","refs","input","value","rightClick","closeValue","setState","onChange","event","target","keyPress","e","code","blur","render","prefixCls","searchIcon","rightIcon","placeholder","closeIcon"],"mappings":"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","sourcesContent":["/**\r\n * Created by Lenovo on 2019/8/18.\r\n */\r\nimport React from 'react';\r\nimport './index.css';\r\nimport {defaultProps} from './defaultProps';\r\nexport default class Search extends React.Component {\r\n    static defaultProps = defaultProps;\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            isShowClose: false,//是否显示搜索框右边关闭按钮\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n\r\n    }\r\n\r\n    leftClick() {\r\n       this.callBack();\r\n    }\r\n    callBack(){\r\n        const {leftClick} =this.props;\r\n        var key = this.refs.input.value;\r\n        if (leftClick) {\r\n            leftClick(key);\r\n        }\r\n    }\r\n\r\n    rightClick() {\r\n        const {rightClick} =this.props;\r\n        if (rightClick) {\r\n            rightClick();\r\n        }\r\n    }\r\n\r\n    //点击搜索框右边关闭图标时，清楚搜索内容并删除图标\r\n    closeValue() {\r\n        this.refs.input.value = '';\r\n        this.setState({\r\n            isShowClose: false\r\n        });\r\n    }\r\n    //点击搜索框进行关键字搜索时，出现右边关闭图标\r\n    onChange(event) {\r\n        if (event.target.value == '') {\r\n            this.setState({\r\n                isShowClose: false\r\n            })\r\n        } else {\r\n            this.setState({\r\n                isShowClose: true\r\n            })\r\n        }\r\n    }\r\n\r\n    keyPress(e){\r\n        if(e.code == 13){\r\n            this.refs.input.blur();\r\n            this.callBack();\r\n        }\r\n    }\r\n    render() {\r\n        const {\r\n            prefixCls,\r\n            searchIcon,\r\n            rightIcon,\r\n            placeholder,\r\n            closeIcon\r\n        } =this.props;\r\n        return (\r\n            <div className={prefixCls}>\r\n                <div className={prefixCls+\"-layout\"}>\r\n                    <div className={prefixCls+\"-content-left\"}>\r\n                        <img src={searchIcon} alt=\"\" className={prefixCls+\"-search-icon\"}\r\n                             onClick={() => this.leftClick()}/>\r\n                        <form action=\"\" className={prefixCls+\"-form\"}>\r\n                        <input type=\"search\" ref=\"input\"  className={prefixCls+\"-input\"}\r\n                               placeholder={placeholder}\r\n                               onChange={(e) => this.onChange(e)}\r\n                               onKeyPress={(e)=>this.keyPress(e)}\r\n                        />\r\n                        </form>\r\n                        {this.state.isShowClose ?\r\n                            <img src={closeIcon} alt=\"\" className={prefixCls+\"-close-icon\"}\r\n                                 onClick={() => this.closeValue()}/> : null\r\n                        }\r\n                    </div>\r\n                    <img src={rightIcon} alt=\"\" className={prefixCls+\"-right-icon\"} onClick={() => this.rightClick()}/>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}