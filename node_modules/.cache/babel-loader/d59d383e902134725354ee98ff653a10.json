{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\caoxue\\\\Desktop\\\\secondary\\\\src\\\\pages\\\\message\\\\messageList\\\\messageList.js\";\n\n/**\r\n * Created by Lenovo on 2019/8/10.\r\n */\nimport React from 'react';\nimport { Title, TabBottom } from '../../../share';\nimport { getData, goNext, getTime } from '../../../utils';\nexport default class MessageList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      messageList: [] //初始化聊天列表\n\n    };\n  }\n\n  componentDidMount() {\n    this.getChatList();\n  } //进入聊天详情页\n\n\n  goDetail(item) {\n    goNext(this, 'messageDetail', item);\n  } //获取聊天列表内容\n\n\n  getChatList() {\n    getData({\n      method: 'post',\n      url: 'getChatList',\n      data: {},\n      successCB: res => {\n        this.setState({\n          messageList: res.result.list\n        });\n      }\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, React.createElement(Title, {\n      title: \"\\u6D88\\u606F\",\n      isHome: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"cm-mlr-02\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }, this.state.messageList.length > 0 ? this.state.messageList.map((item, index) => {\n      var productImgs = item.productImgs && item.productImgs.split(\",\") || [];\n      var lastChatContent = item.lastChatContent && item.lastChatContent.slice(0, 35);\n      return React.createElement(\"div\", {\n        className: \"cm-flex cm-ai-c\",\n        key: index,\n        onClick: () => this.goDetail(item),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: item.anotherUserAvatar,\n        alt: \"\",\n        className: \"cm-img-08 cm-mr-02 cm-mt-02 cm-as-fs cm-border-radius-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"cm-flex cm-ai-c cm-jc-sb cm-flex-1 cm-border-bottom-ddd cm-ptb-02\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"cm-flex-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"cm-c-333 cm-fw-bold cm-fs-028\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, item.anotherUserName), React.createElement(\"div\", {\n        className: \"cm-c-666 cm-fs-026\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, lastChatContent), React.createElement(\"div\", {\n        className: \"cm-c-999 cm-mt-01 cm-fs-024\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, getTime(item.updateTime))), productImgs[0] ? React.createElement(\"img\", {\n        src: productImgs[0],\n        alt: \"\",\n        className: \"cm-img-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }) : React.createElement(\"div\", {\n        className: \"cm-img-12 cm-c-999 cm-fs-026 cm-border-ddd cm-flex cm-ai-c cm-tx-c\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, \"\\u8BE5\\u5546\\u54C1\\u5DF2\\u4E0B\\u67B6\")));\n    }) : React.createElement(\"div\", {\n      className: \"cm-tx-c cm-mt-080 cm-c-666\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, \"\\u6682\\u65E0\\u6D88\\u606F\")), React.createElement(\"div\", {\n      style: {\n        height: '50px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(TabBottom, {\n      history: this.props.history,\n      activeNum: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["C:\\Users\\caoxue\\Desktop\\secondary\\src\\pages\\message\\messageList\\messageList.js"],"names":["React","Title","TabBottom","getData","goNext","getTime","MessageList","Component","constructor","props","state","messageList","componentDidMount","getChatList","goDetail","item","method","url","data","successCB","res","setState","result","list","render","length","map","index","productImgs","split","lastChatContent","slice","anotherUserAvatar","anotherUserName","updateTime","height","history"],"mappings":"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","sourcesContent":["/**\r\n * Created by Lenovo on 2019/8/10.\r\n */\r\nimport React from 'react';\r\nimport {Title,TabBottom} from '../../../share';\r\nimport {getData, goNext,getTime} from '../../../utils';\r\nexport default class MessageList extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            messageList:[]//初始化聊天列表\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        this.getChatList();\r\n    }\r\n    //进入聊天详情页\r\n    goDetail(item) {\r\n        goNext(this, 'messageDetail',item);\r\n    }\r\n    //获取聊天列表内容\r\n    getChatList(){\r\n        getData({\r\n            method: 'post',\r\n            url: 'getChatList',\r\n            data: {},\r\n            successCB: (res) => {\r\n                this.setState({\r\n                    messageList:res.result.list\r\n                })\r\n            }\r\n        })\r\n    }\r\n    render() {\r\n        return <div>\r\n            <Title title=\"消息\" isHome={true}/>\r\n            <div className=\"cm-mlr-02\">\r\n                {this.state.messageList.length>0?this.state.messageList.map((item,index)=>{\r\n                    var productImgs = item.productImgs && item.productImgs.split(\",\")||[];\r\n                    var lastChatContent = item.lastChatContent && item.lastChatContent.slice(0,35);\r\n                    return(\r\n                    <div className=\"cm-flex cm-ai-c\" key={index} onClick={()=>this.goDetail(item)}>\r\n                        <img src={item.anotherUserAvatar} alt=\"\" className=\"cm-img-08 cm-mr-02 cm-mt-02 cm-as-fs cm-border-radius-10\"/>\r\n                        <div className=\"cm-flex cm-ai-c cm-jc-sb cm-flex-1 cm-border-bottom-ddd cm-ptb-02\">\r\n                        <div className=\"cm-flex-1\">\r\n                            <div className=\"cm-c-333 cm-fw-bold cm-fs-028\">{item.anotherUserName}</div>\r\n                            <div className=\"cm-c-666 cm-fs-026\">{lastChatContent}</div>\r\n                            <div className=\"cm-c-999 cm-mt-01 cm-fs-024\">{getTime(item.updateTime)}</div>\r\n                        </div>\r\n                            {productImgs[0]?\r\n                            <img src={productImgs[0]} alt=\"\" className=\"cm-img-12\"/>:\r\n                                <div className=\"cm-img-12 cm-c-999 cm-fs-026 cm-border-ddd cm-flex cm-ai-c cm-tx-c\">该商品已下架</div>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    )\r\n                    }):<div className=\"cm-tx-c cm-mt-080 cm-c-666\">暂无消息</div>}\r\n            </div>\r\n            <div style={{height:'50px'}}>\r\n            <TabBottom history={this.props.history} activeNum={2}/>\r\n            </div>\r\n        </div>\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}