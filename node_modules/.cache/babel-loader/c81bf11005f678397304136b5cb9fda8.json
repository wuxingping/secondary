{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\caoxue\\\\Desktop\\\\secondary\\\\secondary\\\\src\\\\pages\\\\personal\\\\myPublish.js\";\n\n/**\r\n * Created by Lenovo on 2019/9/4.\r\n */\n\n/**\r\n * Created by Lenovo on 2019/9/2.\r\n */\nimport React from 'react';\nimport './personal.css';\nimport { Title, List, Card } from '../../share';\nimport publish from \"../../images/personal/publish.png\";\nimport chat from '../../images/personal/chat.png';\nimport { getData, goNext, getTimeFormat, getTimeHour } from '../../utils';\nexport default class MyPublish extends React.Component {\n  constructor(props) {\n    super(props);\n    this.item = this.props.history.location.state || {};\n    console.log(this.item);\n    this.count = 0;\n    this.state = {\n      dataList: [],\n      index: 0,\n      value: null\n    };\n  }\n\n  componentDidMount() {\n    this.goLogin();\n    this.getMyProductList(1);\n    var textarea = document.getElementsByTagName(\"textarea\");\n\n    for (var i = 0; i < textarea.length; i++) {\n      textarea[i].style.height = '3.5rem';\n      textarea[i].scrollTop = 0; //防抖动\n\n      textarea[i].style.height = textarea[i].scrollHeight + 'px';\n      textarea[i].addEventListener('input', function (e) {\n        e.target.style.height = 'auto';\n        e.target.scrollTop = 0; //防抖动\n\n        if (e.target.scrollHeight < 35) {\n          e.target.style.height = '35px';\n        } else {\n          e.target.style.height = e.target.scrollHeight + 'px';\n        }\n      });\n    }\n  }\n\n  goLogin() {\n    getData({\n      method: 'post',\n      url: 'getChatList',\n      data: {},\n      successCB: res => {\n        console.log(res);\n      }\n    });\n  }\n\n  changeState(e) {\n    console.log(e);\n    this.setState({\n      value: e.target.value\n    });\n  }\n\n  getMyProductList() {\n    getData({\n      method: 'post',\n      url: 'getMyProductList',\n      data: {\n        type: 1\n      },\n      successCB: res => {\n        this.setState({\n          dataList: res.result.list\n        });\n        console.log(res);\n      }\n    });\n  }\n\n  onLeftClick() {\n    this.props.history.goBack();\n  }\n\n  modifyPublish(e, item) {\n    e.stopPropagation();\n    goNext(this, \"modifyProduct\", item);\n  }\n\n  delProduct(e, item) {\n    e.stopPropagation();\n    getData({\n      method: 'post',\n      url: 'delProduct',\n      data: {\n        productId: item.id\n      },\n      successCB: res => {\n        console.log(res);\n\n        if (res.code == 0) {\n          this.getMyProductList();\n        }\n      }\n    });\n  }\n\n  render() {\n    var user = JSON.parse(localStorage.getItem(\"userInfo\")) || {};\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(Title, {\n      title: \"\\u6211\\u53D1\\u5E03\\u7684\",\n      onLeftClick: this.onLeftClick.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"cm-ptb-018 cm-mlr-018 cm-border-bottom-gary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"cm-flex cm-ai-c\",\n      onClick: () => this.goNextPage(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: publish,\n      alt: \"\",\n      className: \"cm-img-04 cm-border-radius-half\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"cm-c-999 cm-ml-018 cm-fs-026\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"\\u6211\\u53D1\\u5E03\\u7684\\u5B9D\\u8D1D\\u5171\", React.createElement(\"span\", {\n      className: \"cm-c-main cm-fs-028\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \" \", this.state.dataList.length, \" \"), \"\\u4EF6\"))), React.createElement(\"div\", {\n      className: \"cm-plr-018\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, this.state.dataList.length > 0 ? this.state.dataList.map((item, index) => {\n      var productImgs = item.productImgs && item.productImgs.split(\",\");\n      var desc = item.productDesc && item.productDesc.slice(0, 28);\n      return React.createElement(Card, {\n        key: index,\n        onClick: () => goNext(this, \"indexDetail\", item),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"cm-flex cm-jc-sb cm-ai-c cm-plr-010 cm-ptb-018\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"cm-flex cm-ai-c\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: productImgs[0],\n        alt: \"\",\n        className: \"cm-img-14\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"cm-ml-018 cm-flex-1\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"cm-c-333 cm-fs-026\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      }, desc), React.createElement(\"div\", {\n        className: \"cm-c-main cm-fs-030 cm-mt-018\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120\n        },\n        __self: this\n      }, \"\\uFFE5\", item.productPrice), React.createElement(\"div\", {\n        className: \"cm-c-999 cm-pt-018 cm-fs-022\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, getTimeFormat(item.createTime))))), React.createElement(\"div\", {\n        className: \"cm-flex cm-ai-c cm-ptb-018 cm-border-top-eee cm-jc-fe\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"cm-btn-border cm-flex cm-ai-c cm-mr-018\",\n        onClick: e => this.modifyPublish(e, item),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"cm-fs-028\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, \"\\u7F16\\u8F91\")), React.createElement(\"div\", {\n        className: \"cm-btn-border cm-flex cm-ai-c cm-mr-018\",\n        onClick: e => this.delProduct(e, item),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"cm-fs-028\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131\n        },\n        __self: this\n      }, \"\\u4E0B\\u67B6\"))));\n    }) : React.createElement(\"div\", {\n      className: \"cm-c-666 cm-tx-c cm-mt-040\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }, \"\\u4F60\\u8FD8\\u6CA1\\u6709\\u53D1\\u5E03\\u5B9D\\u8D1D\\u54E6\\uFF01\"), React.createElement(\"div\", {\n      className: \"cm-mt-036\",\n      onClick: () => goNext(this, 'publish'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"cm-btn-fill\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"\\u53D1\\u5E03\\u5B9D\\u8D1D\"))))));\n  }\n\n}","map":{"version":3,"sources":["C:\\Users\\caoxue\\Desktop\\secondary\\secondary\\src\\pages\\personal\\myPublish.js"],"names":["React","Title","List","Card","publish","chat","getData","goNext","getTimeFormat","getTimeHour","MyPublish","Component","constructor","props","item","history","location","state","console","log","count","dataList","index","value","componentDidMount","goLogin","getMyProductList","textarea","document","getElementsByTagName","i","length","style","height","scrollTop","scrollHeight","addEventListener","e","target","method","url","data","successCB","res","changeState","setState","type","result","list","onLeftClick","goBack","modifyPublish","stopPropagation","delProduct","productId","id","code","render","user","JSON","parse","localStorage","getItem","bind","goNextPage","map","productImgs","split","desc","productDesc","slice","productPrice","createTime"],"mappings":"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","sourcesContent":["/**\r\n * Created by Lenovo on 2019/9/4.\r\n */\r\n/**\r\n * Created by Lenovo on 2019/9/2.\r\n */\r\nimport React from 'react';\r\nimport './personal.css';\r\nimport {Title,List,Card} from '../../share';\r\nimport publish from \"../../images/personal/publish.png\";\r\nimport chat from '../../images/personal/chat.png';\r\nimport {getData, goNext,getTimeFormat,getTimeHour} from '../../utils';\r\nexport default class MyPublish extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.item = this.props.history.location.state ||{};\r\n        console.log(this.item);\r\n        this.count = 0;\r\n        this.state = {\r\n            dataList:[],\r\n            index:0,\r\n            value:null\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        this.goLogin();\r\n        this.getMyProductList(1);\r\n        var textarea = document.getElementsByTagName(\"textarea\");\r\n        for(var i=0;i<textarea.length;i++){\r\n            textarea[i].style.height = '3.5rem';\r\n            textarea[i].scrollTop = 0; //防抖动\r\n            textarea[i].style.height = textarea[i].scrollHeight + 'px';\r\n            textarea[i].addEventListener('input',function (e) {\r\n                e.target.style.height = 'auto';\r\n                e.target.scrollTop = 0; //防抖动\r\n                if(e.target.scrollHeight<35){\r\n                    e.target.style.height = '35px';\r\n                }else {\r\n                    e.target.style.height = e.target.scrollHeight + 'px';\r\n                }\r\n            })\r\n        }\r\n    }\r\n    goLogin(){\r\n        getData({\r\n            method: 'post',\r\n            url: 'getChatList',\r\n            data: {},\r\n            successCB: (res) => {\r\n                console.log(res);\r\n            }\r\n        })\r\n    }\r\n    changeState(e){\r\n        console.log(e);\r\n        this.setState({\r\n            value:e.target.value\r\n        })\r\n    }\r\n    getMyProductList(){\r\n        getData({\r\n            method: 'post',\r\n            url: 'getMyProductList',\r\n            data: {\r\n                type:1\r\n            },\r\n            successCB: (res) => {\r\n                this.setState({\r\n                    dataList:res.result.list\r\n                })\r\n                console.log(res);\r\n            }\r\n        })\r\n    }\r\n    onLeftClick(){\r\n        this.props.history.goBack()\r\n    }\r\n    modifyPublish(e,item){\r\n        e.stopPropagation();\r\n        goNext(this,\"modifyProduct\",item);\r\n    }\r\n    delProduct(e,item){\r\n        e.stopPropagation();\r\n        getData({\r\n            method: 'post',\r\n            url: 'delProduct',\r\n            data: {\r\n                productId:item.id\r\n            },\r\n            successCB: (res) => {\r\n                console.log(res);\r\n                if(res.code == 0){\r\n                    this.getMyProductList();\r\n                }\r\n            }\r\n        })\r\n    }\r\n    render() {\r\n        var user = JSON.parse(localStorage.getItem(\"userInfo\"))||{};\r\n        return <div>\r\n            <Title title=\"我发布的\" onLeftClick={this.onLeftClick.bind(this)}/>\r\n            <div>\r\n                <div className=\"cm-ptb-018 cm-mlr-018 cm-border-bottom-gary\">\r\n                    <div className=\"cm-flex cm-ai-c\" onClick={() => this.goNextPage()}>\r\n                        <img src={publish} alt=\"\" className=\"cm-img-04 cm-border-radius-half\"/>\r\n                        <div className=\"cm-c-999 cm-ml-018 cm-fs-026\">我发布的宝贝共<span className=\"cm-c-main cm-fs-028\"> {this.state.dataList.length} </span>件</div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"cm-plr-018\">\r\n                    {this.state.dataList.length>0?this.state.dataList.map((item,index)=>{\r\n                        var productImgs = item.productImgs && item.productImgs.split(\",\");\r\n                        var desc = item.productDesc && item.productDesc.slice(0,28);\r\n                        return(\r\n                            <Card key={index} onClick={()=>goNext(this,\"indexDetail\",item)}>\r\n                                <div className=\"cm-flex cm-jc-sb cm-ai-c cm-plr-010 cm-ptb-018\">\r\n                                    <div className=\"cm-flex cm-ai-c\">\r\n                                        <img src={productImgs[0]} alt=\"\" className=\"cm-img-14\"/>\r\n                                        <div className=\"cm-ml-018 cm-flex-1\">\r\n                                            <div className=\"cm-c-333 cm-fs-026\">{desc}</div>\r\n                                            <div className=\"cm-c-main cm-fs-030 cm-mt-018\">￥{item.productPrice}</div>\r\n                                            <div className=\"cm-c-999 cm-pt-018 cm-fs-022\">{getTimeFormat(item.createTime)}</div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"cm-flex cm-ai-c cm-ptb-018 cm-border-top-eee cm-jc-fe\">\r\n\r\n                                    <div className=\"cm-btn-border cm-flex cm-ai-c cm-mr-018\" onClick={(e)=>this.modifyPublish(e,item)}>\r\n                                        <span className=\"cm-fs-028\">编辑</span>\r\n                                    </div>\r\n                                    <div className=\"cm-btn-border cm-flex cm-ai-c cm-mr-018\" onClick={(e)=>this.delProduct(e,item)}>\r\n                                        <span className=\"cm-fs-028\">下架</span>\r\n                                    </div>\r\n                                </div>\r\n                            </Card>\r\n                        )\r\n                    }):\r\n                        <div className=\"cm-c-666 cm-tx-c cm-mt-040\">\r\n                            <div>你还没有发布宝贝哦！</div>\r\n                            <div className=\"cm-mt-036\" onClick={()=>goNext(this,'publish')}>\r\n                                <span className=\"cm-btn-fill\">发布宝贝</span>\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}