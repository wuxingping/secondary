{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\caoxue\\\\Desktop\\\\secondary\\\\src\\\\pages\\\\login\\\\login.js\";\n\n/**\r\n * Created by Lenovo on 2019/8/10.\r\n */\nimport React from 'react';\nimport account from '../../images/login/account.png';\nimport password from '../../images/login/password.png';\nimport defaultAvatar from '../../images/login/avatar.jpg';\nimport { Title, List, Input, Button } from '../../share'; // import {Button} from 'antd-mobile';\n\nimport { getData, goNext, checkParam } from '../../utils';\nexport default class Publish extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      account: '',\n      password: ''\n    };\n  }\n\n  change(state) {\n    this.setState(state);\n  } //进入注册页面\n\n\n  goRegister() {\n    goNext(this, 'register');\n  }\n\n  login() {\n    var arr = [{\n      value: this.state.mobile,\n      msg: \"请输入手机号\"\n    }, {\n      value: this.state.password,\n      msg: \"请输入密码\"\n    }];\n    checkParam(arr, () => {\n      getData({\n        method: 'post',\n        url: 'login',\n        data: {\n          mobile: this.state.mobile,\n          password: this.state.password\n        },\n        successCB: res => {\n          var token = res.result.token; //登录成功之后将个人信息缓存到本地，并进入首页\n\n          localStorage.setItem(\"userInfo\", JSON.stringify(res.result));\n          localStorage.setItem(\"token\", token);\n          goNext(this, 'index');\n        }\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(Title, {\n      that: this,\n      title: \"\\u767B\\u5F55\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"cm-tx-c cm-mt-036\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: defaultAvatar,\n      alt: \"\",\n      className: \"cm-img-16 cm-border-radius-half\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"cm-mlr-018 cm-mt-036\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, React.createElement(List, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(Input, {\n      src: account,\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u8D26\\u53F7\",\n      value: this.state.mobile,\n      onChange: val => this.change({\n        mobile: val\n      }),\n      style: {\n        textAlign: 'left'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    })), React.createElement(List, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(Input, {\n      type: \"password\",\n      src: password,\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u5BC6\\u7801\",\n      value: this.state.password,\n      onChange: val => this.change({\n        password: val\n      }),\n      style: {\n        textAlign: 'left'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    })), React.createElement(Button, {\n      type: \"fill\",\n      className: \"cm-mt-080\",\n      onClick: () => this.login(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"\\u767B\\u5F55\"), React.createElement(\"div\", {\n      className: \"cm-flex cm-jc-c cm-mlr-auto cm-mt-036 cm-c-main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      onClick: () => this.goRegister(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, \"\\u5FEB\\u901F\\u6CE8\\u518C\"), React.createElement(\"span\", {\n      className: \"cm-mlr-018\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"|\"), React.createElement(\"span\", {\n      onClick: () => goNext(this, \"forgotPwd\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"\\u5FD8\\u8BB0\\u5BC6\\u7801?\"))));\n  }\n\n}","map":{"version":3,"sources":["C:\\Users\\caoxue\\Desktop\\secondary\\src\\pages\\login\\login.js"],"names":["React","account","password","defaultAvatar","Title","List","Input","Button","getData","goNext","checkParam","Publish","Component","constructor","props","state","change","setState","goRegister","login","arr","value","mobile","msg","method","url","data","successCB","res","token","result","localStorage","setItem","JSON","stringify","render","val","textAlign"],"mappings":"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","sourcesContent":["/**\r\n * Created by Lenovo on 2019/8/10.\r\n */\r\nimport React from 'react';\r\nimport account from '../../images/login/account.png';\r\nimport password from '../../images/login/password.png';\r\nimport defaultAvatar from '../../images/login/avatar.jpg';\r\nimport {Title, List, Input,Button} from '../../share';\r\n// import {Button} from 'antd-mobile';\r\nimport {getData, goNext, checkParam} from '../../utils';\r\nexport default class Publish extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            account: '',\r\n            password: '',\r\n        }\r\n    }\r\n    change(state) {\r\n        this.setState(state)\r\n    }\r\n    //进入注册页面\r\n    goRegister() {\r\n        goNext(this, 'register');\r\n    }\r\n    login() {\r\n        var arr = [\r\n            {value: this.state.mobile, msg: \"请输入手机号\"},\r\n            {value: this.state.password, msg: \"请输入密码\"},\r\n        ]\r\n        checkParam(arr, () => {\r\n            getData({\r\n                method: 'post',\r\n                url: 'login',\r\n                data: {\r\n                    mobile: this.state.mobile,\r\n                    password: this.state.password,\r\n                },\r\n                successCB: (res) => {\r\n                    var token = res.result.token;\r\n                    //登录成功之后将个人信息缓存到本地，并进入首页\r\n                    localStorage.setItem(\"userInfo\", JSON.stringify(res.result));\r\n                    localStorage.setItem(\"token\", token);\r\n                    goNext(this, 'index')\r\n                }\r\n            })\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Title that={this} title=\"登录\"/>\r\n                    <div className=\"cm-tx-c cm-mt-036\"><img src={defaultAvatar} alt=\"\" className=\"cm-img-16 cm-border-radius-half\"/></div>\r\n                    <div className=\"cm-mlr-018 cm-mt-036\">\r\n                    <List>\r\n                        <Input\r\n                            src={account}\r\n                            placeholder=\"请输入账号\"\r\n                            value={this.state.mobile}\r\n                            onChange={(val) => this.change({mobile: val})}\r\n                            style={{textAlign:'left'}}\r\n                        />\r\n                    </List>\r\n                    <List>\r\n                        <Input\r\n                            type=\"password\"\r\n                            src={password}\r\n                            placeholder=\"请输入密码\"\r\n                            value={this.state.password}\r\n                            onChange={(val) => this.change({password: val})}\r\n                            style={{textAlign:'left'}}\r\n                        />\r\n                    </List>\r\n                    <Button type=\"fill\"  className=\"cm-mt-080\" onClick={() => this.login()}>登录</Button>\r\n                    <div className=\"cm-flex cm-jc-c cm-mlr-auto cm-mt-036 cm-c-main\">\r\n                        <span onClick={() => this.goRegister()}>快速注册</span>\r\n                        <span className=\"cm-mlr-018\">|</span>\r\n                        <span onClick={()=>goNext(this,\"forgotPwd\")}>忘记密码?</span>\r\n                    </div>\r\n                    </div>\r\n            </div>)\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}