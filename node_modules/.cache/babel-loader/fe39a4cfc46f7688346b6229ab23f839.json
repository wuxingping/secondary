{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\caoxue\\\\Desktop\\\\secondary\\\\src\\\\pages\\\\personal\\\\addAddress.js\";\n\n/**\r\n * Created by Lenovo on 2019/8/10.\r\n */\nimport React from 'react';\nimport { Title, List, Input, Button } from '../../share';\nimport { getData, goNext, checkParam } from '../../utils';\nimport { Switch } from 'antd-mobile';\nexport default class AddAddress extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      name: '',\n      mobile: '',\n      address: '',\n      detail: '',\n      checked: false\n    };\n    this.item = this.props.history.location.state || {};\n\n    if (this.item.consigneeName) {\n      this.state.consigneeName = this.item.consigneeName;\n      this.state.consigneeMobile = this.item.consigneeMobile;\n      this.state.consigneeAddress = this.item.consigneeAddress;\n      this.state.addressDetail = this.item.addressDetail;\n      this.state.isDefaultAddress = this.item.isDefaultAddress === 2 ? true : false;\n    }\n  }\n\n  change(state) {\n    this.setState(state);\n  }\n\n  login() {\n    var arr = [{\n      value: this.state.mobile,\n      msg: \"请输入手机号\"\n    }, {\n      value: this.state.password,\n      msg: \"请输入密码\"\n    }];\n    checkParam(arr, () => {\n      getData({\n        method: 'post',\n        url: 'login',\n        data: {\n          mobile: this.state.mobile,\n          password: this.state.password\n        },\n        successCB: res => {\n          var token = res.result.token; //登录成功之后将个人信息缓存到本地，并进入首页\n\n          localStorage.setItem(\"userInfo\", JSON.stringify(res.result));\n          localStorage.setItem(\"token\", token);\n          goNext(this, 'index');\n        }\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }, React.createElement(Title, {\n      that: this,\n      title: this.item.consigneeName ? \"编辑收货地址\" : \"添加收货地址\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"cm-mlr-018\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(List, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, React.createElement(Input, {\n      placeholder: \"\\u6536\\u8D27\\u4EBA\",\n      defaultValue: this.state.consigneeName,\n      onChange: val => this.change({\n        consigneeName: val\n      }),\n      style: {\n        textAlign: 'left'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    })), React.createElement(List, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(Input, {\n      type: \"number\",\n      placeholder: \"\\u624B\\u673A\\u53F7\\u7801\",\n      defaultValue: this.state.consigneeMobile,\n      onChange: val => this.change({\n        consigneeMobile: val\n      }),\n      style: {\n        textAlign: 'left'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    })), React.createElement(List, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(Input, {\n      type: \"text\",\n      placeholder: \"\\u6240\\u5728\\u5730\\u533A\",\n      defaultValue: this.state.consigneeAddress,\n      onChange: val => this.change({\n        consigneeAddress: val\n      }),\n      style: {\n        textAlign: 'left'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    })), React.createElement(List, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, React.createElement(Input, {\n      type: \"text\",\n      placeholder: \"\\u8BE6\\u7EC6\\u5730\\u5740\\uFF1A\\u5982\\u5EFA\\u4E2D\\u8DEF88\\u53F78\\u5C42808\\u5BA4\",\n      defaultValue: this.state.addressDetail,\n      onChange: val => this.change({\n        addressDetail: val\n      }),\n      style: {\n        textAlign: 'left'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"cm-flex cm-ptb-018 cm-jc-sb\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"\\u8BBE\\u4E3A\\u9ED8\\u8BA4\\u5730\\u5740\"), React.createElement(Switch, {\n      checked: this.state.isDefaultAddress,\n      onChange: () => {\n        this.setState({\n          isDefaultAddress: !this.state.isDefaultAddress\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    })), this.item.consigneeName ? React.createElement(\"div\", {\n      className: \"cm-flex cm-jc-sb\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(Button, {\n      type: \"half\",\n      className: \"cm-mt-080\",\n      onClick: () => this.login(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"\\u4FDD\\u5B58\"), React.createElement(Button, {\n      type: \"half\",\n      className: \"cm-mt-080\",\n      onClick: () => this.login(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"\\u5220\\u9664\")) : React.createElement(Button, {\n      type: \"fill\",\n      className: \"cm-mt-080\",\n      onClick: () => this.login(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"\\u4FDD\\u5B58\")));\n  }\n\n}","map":{"version":3,"sources":["C:\\Users\\caoxue\\Desktop\\secondary\\src\\pages\\personal\\addAddress.js"],"names":["React","Title","List","Input","Button","getData","goNext","checkParam","Switch","AddAddress","Component","constructor","props","state","name","mobile","address","detail","checked","item","history","location","consigneeName","consigneeMobile","consigneeAddress","addressDetail","isDefaultAddress","change","setState","login","arr","value","msg","password","method","url","data","successCB","res","token","result","localStorage","setItem","JSON","stringify","render","val","textAlign"],"mappings":"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","sourcesContent":["/**\r\n * Created by Lenovo on 2019/8/10.\r\n */\r\nimport React from 'react';\r\nimport {Title, List, Input,Button} from '../../share';\r\nimport {getData, goNext, checkParam} from '../../utils';\r\nimport {Switch} from 'antd-mobile';\r\nexport default class AddAddress extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            name: '',\r\n            mobile: '',\r\n            address:'',\r\n            detail:'',\r\n            checked:false\r\n        }\r\n        this.item = this.props.history.location.state ||{};\r\n        if(this.item.consigneeName){\r\n            this.state.consigneeName = this.item.consigneeName;\r\n            this.state.consigneeMobile = this.item.consigneeMobile;\r\n            this.state.consigneeAddress = this.item.consigneeAddress;\r\n            this.state.addressDetail = this.item.addressDetail;\r\n            this.state.isDefaultAddress = this.item.isDefaultAddress === 2?true:false;\r\n        }\r\n    }\r\n    change(state) {\r\n        this.setState(state)\r\n    }\r\n    login() {\r\n        var arr = [\r\n            {value: this.state.mobile, msg: \"请输入手机号\"},\r\n            {value: this.state.password, msg: \"请输入密码\"},\r\n        ]\r\n        checkParam(arr, () => {\r\n            getData({\r\n                method: 'post',\r\n                url: 'login',\r\n                data: {\r\n                    mobile: this.state.mobile,\r\n                    password: this.state.password,\r\n                },\r\n                successCB: (res) => {\r\n                    var token = res.result.token;\r\n                    //登录成功之后将个人信息缓存到本地，并进入首页\r\n                    localStorage.setItem(\"userInfo\", JSON.stringify(res.result));\r\n                    localStorage.setItem(\"token\", token);\r\n                    goNext(this, 'index')\r\n                }\r\n            })\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Title that={this} title={this.item.consigneeName?\"编辑收货地址\":\"添加收货地址\"}/>\r\n                <div className=\"cm-mlr-018\">\r\n                    <List>\r\n                        <Input\r\n                            placeholder=\"收货人\"\r\n                            defaultValue={this.state.consigneeName}\r\n                            onChange={(val) => this.change({consigneeName: val})}\r\n                            style={{textAlign:'left'}}\r\n                        />\r\n                    </List>\r\n                    <List>\r\n                        <Input\r\n                            type=\"number\"\r\n                            placeholder=\"手机号码\"\r\n                            defaultValue={this.state.consigneeMobile}\r\n                            onChange={(val) => this.change({consigneeMobile: val})}\r\n                            style={{textAlign:'left'}}\r\n                        />\r\n                    </List>\r\n                    <List>\r\n                        <Input\r\n                            type=\"text\"\r\n                            placeholder=\"所在地区\"\r\n                            defaultValue={this.state.consigneeAddress}\r\n                            onChange={(val) => this.change({consigneeAddress: val})}\r\n                            style={{textAlign:'left'}}\r\n                        />\r\n                    </List>\r\n                    <List>\r\n                        <Input\r\n                            type=\"text\"\r\n                            placeholder=\"详细地址：如建中路88号8层808室\"\r\n                            defaultValue={this.state.addressDetail}\r\n                            onChange={(val) => this.change({addressDetail: val})}\r\n                            style={{textAlign:'left'}}\r\n                        />\r\n                    </List>\r\n                    <div className=\"cm-flex cm-ptb-018 cm-jc-sb\">\r\n                        <div>设为默认地址</div>\r\n                        <Switch\r\n                            checked={this.state.isDefaultAddress}\r\n                            onChange={() => {\r\n                                this.setState({\r\n                                    isDefaultAddress: !this.state.isDefaultAddress,\r\n                                });\r\n                            }}\r\n                        />\r\n                    </div>\r\n                    {this.item.consigneeName?<div className=\"cm-flex cm-jc-sb\"><Button type=\"half\" className=\"cm-mt-080\" onClick={() => this.login()}>保存</Button>\r\n                            <Button type=\"half\"  className=\"cm-mt-080\" onClick={() => this.login()}>删除</Button>\r\n                        </div>: <Button type=\"fill\"  className=\"cm-mt-080\" onClick={() => this.login()}>保存</Button>}\r\n\r\n                </div>\r\n            </div>)\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}