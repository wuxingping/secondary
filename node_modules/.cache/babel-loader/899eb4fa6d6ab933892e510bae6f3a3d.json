{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\caoxue\\\\Desktop\\\\secondary\\\\secondary\\\\src\\\\pages\\\\personal\\\\publish.js\";\n\n/**\r\n * Created by Lenovo on 2019/9/4.\r\n */\n\n/**\r\n * Created by Lenovo on 2019/9/2.\r\n */\nimport React from 'react';\nimport './personal.css';\nimport { Title, List } from '../../share';\nimport { getData, goNext, getTimeFormat, getTimeHour } from '../../utils';\nconst Item = List.Item;\nexport default class Publish extends React.Component {\n  constructor(props) {\n    super(props);\n    this.item = this.props.history.location.state || {};\n    console.log(this.item);\n    this.count = 0;\n    this.state = {\n      dataList: [],\n      index: 0,\n      value: null\n    };\n  }\n\n  componentDidMount() {\n    this.goLogin();\n    this.getMyProductList(1);\n    var textarea = document.getElementsByTagName(\"textarea\");\n\n    for (var i = 0; i < textarea.length; i++) {\n      textarea[i].style.height = '3.5rem';\n      textarea[i].scrollTop = 0; //防抖动\n\n      textarea[i].style.height = textarea[i].scrollHeight + 'px';\n      textarea[i].addEventListener('input', function (e) {\n        e.target.style.height = 'auto';\n        e.target.scrollTop = 0; //防抖动\n\n        if (e.target.scrollHeight < 35) {\n          e.target.style.height = '35px';\n        } else {\n          e.target.style.height = e.target.scrollHeight + 'px';\n        }\n      });\n    }\n  }\n\n  goLogin() {\n    getData({\n      method: 'post',\n      url: 'getChatList',\n      data: {},\n      successCB: res => {\n        console.log(res);\n      }\n    });\n  }\n\n  onLeftClick() {\n    this.props.history.push({\n      pathname: \"messageDetail\"\n    });\n  }\n\n  changeState(e) {\n    console.log(e);\n    this.setState({\n      value: e.target.value\n    });\n  }\n\n  getMyProductList() {\n    getData({\n      method: 'post',\n      url: 'getMyProductList',\n      data: {\n        type: 1\n      },\n      successCB: res => {\n        this.setState({\n          dataList: res.result.list\n        });\n        console.log(res);\n      }\n    });\n  }\n\n  render() {\n    var user = JSON.parse(localStorage.getItem(\"userInfo\")) || {};\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(Title, {\n      title: \"\\u6211\\u53D1\\u5E03\\u7684\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"cm-mlr-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"cm-mtb-10 cm-flex cm-ai-c\",\n      onClick: () => this.goNextPage(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: user.userAvatar,\n      alt: \"\",\n      className: \"cm-img-large cm-border-radius-half\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"cm-c-999 cm-ml-10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"\\u6211\\u53D1\\u5E03\\u7684\\u5B9D\\u8D1D\\u5171\", React.createElement(\"span\", {\n      className: \"cm-c-main cm-fs-18\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, \"2\"), \"\\u4EF6\")), React.createElement(\"div\", {\n      className: \"cm-line\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }), this.state.dataList.map((item, index) => {\n      return React.createElement(List, {\n        key: index,\n        onClick: () => goNext(this, item.link, item),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"cm-flex cm-jc-sb cm-ai-c cm-ptb-10 cm-width-full\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"cm-flex cm-ai-c\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: item.productImgs,\n        alt: \"\",\n        className: \"cm-img-50\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"cm-ml-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"cm-c-333\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, item.productDesc), React.createElement(\"div\", {\n        className: \"cm-c-main cm-fs-12 cm-mt-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, item.productPrice))), React.createElement(\"div\", {\n        className: \"cm-tx-r\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"cm-bc-main cm-plr-10 cm-ptb-10 cm-c-white cm-border-radius\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"\\u4FEE\\u6539\"), React.createElement(\"div\", {\n        className: \"cm-c-999 cm-mt-10\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, getTimeFormat(item.createTime)))));\n    })));\n  }\n\n}","map":{"version":3,"sources":["C:\\Users\\caoxue\\Desktop\\secondary\\secondary\\src\\pages\\personal\\publish.js"],"names":["React","Title","List","getData","goNext","getTimeFormat","getTimeHour","Item","Publish","Component","constructor","props","item","history","location","state","console","log","count","dataList","index","value","componentDidMount","goLogin","getMyProductList","textarea","document","getElementsByTagName","i","length","style","height","scrollTop","scrollHeight","addEventListener","e","target","method","url","data","successCB","res","onLeftClick","push","pathname","changeState","setState","type","result","list","render","user","JSON","parse","localStorage","getItem","goNextPage","userAvatar","map","link","productImgs","productDesc","productPrice","createTime"],"mappings":"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","sourcesContent":["/**\r\n * Created by Lenovo on 2019/9/4.\r\n */\r\n/**\r\n * Created by Lenovo on 2019/9/2.\r\n */\r\nimport React from 'react';\r\nimport './personal.css';\r\nimport {Title,List} from '../../share';\r\nimport {getData, goNext,getTimeFormat,getTimeHour} from '../../utils';\r\nconst Item = List.Item;\r\nexport default class Publish extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.item = this.props.history.location.state ||{};\r\n        console.log(this.item);\r\n        this.count = 0;\r\n        this.state = {\r\n            dataList:[],\r\n            index:0,\r\n            value:null\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        this.goLogin();\r\n        this.getMyProductList(1);\r\n        var textarea = document.getElementsByTagName(\"textarea\");\r\n        for(var i=0;i<textarea.length;i++){\r\n            textarea[i].style.height = '3.5rem';\r\n            textarea[i].scrollTop = 0; //防抖动\r\n            textarea[i].style.height = textarea[i].scrollHeight + 'px';\r\n            textarea[i].addEventListener('input',function (e) {\r\n                e.target.style.height = 'auto';\r\n                e.target.scrollTop = 0; //防抖动\r\n                if(e.target.scrollHeight<35){\r\n                    e.target.style.height = '35px';\r\n                }else {\r\n                    e.target.style.height = e.target.scrollHeight + 'px';\r\n                }\r\n            })\r\n        }\r\n    }\r\n    goLogin(){\r\n        getData({\r\n            method: 'post',\r\n            url: 'getChatList',\r\n            data: {},\r\n            successCB: (res) => {\r\n                console.log(res);\r\n            }\r\n        })\r\n    }\r\n    onLeftClick(){\r\n        this.props.history.push({pathname:\"messageDetail\"});\r\n    }\r\n    changeState(e){\r\n        console.log(e);\r\n        this.setState({\r\n            value:e.target.value\r\n        })\r\n    }\r\n    getMyProductList(){\r\n        getData({\r\n            method: 'post',\r\n            url: 'getMyProductList',\r\n            data: {\r\n                type:1\r\n            },\r\n            successCB: (res) => {\r\n                this.setState({\r\n                    dataList:res.result.list\r\n                })\r\n               console.log(res);\r\n            }\r\n        })\r\n    }\r\n    render() {\r\n        var user = JSON.parse(localStorage.getItem(\"userInfo\"))||{};\r\n        return <div>\r\n            <Title title=\"我发布的\"/>\r\n            <div className=\"cm-mlr-10\">\r\n                <div className=\"cm-mtb-10 cm-flex cm-ai-c\" onClick={() => this.goNextPage()}>\r\n                    <img src={user.userAvatar} alt=\"\" className=\"cm-img-large cm-border-radius-half\"/>\r\n                    <div className=\"cm-c-999 cm-ml-10\">我发布的宝贝共<span className=\"cm-c-main cm-fs-18\">2</span>件</div>\r\n                </div>\r\n                <div className=\"cm-line\"></div>\r\n                {this.state.dataList.map((item,index)=>{\r\n                    return(\r\n                        <List key={index} onClick={()=>goNext(this, item.link,item)}>\r\n                            <div className=\"cm-flex cm-jc-sb cm-ai-c cm-ptb-10 cm-width-full\">\r\n                                <div className=\"cm-flex cm-ai-c\">\r\n                                <img src={item.productImgs} alt=\"\" className=\"cm-img-50\"/>\r\n                                <div className=\"cm-ml-10\">\r\n                                    <div className=\"cm-c-333\">{item.productDesc}</div>\r\n                                    <div className=\"cm-c-main cm-fs-12 cm-mt-10\">{item.productPrice}</div>\r\n                                </div>\r\n                                </div>\r\n                                <div className=\"cm-tx-r\">\r\n                                    <span className=\"cm-bc-main cm-plr-10 cm-ptb-10 cm-c-white cm-border-radius\">修改</span>\r\n                                    <div className=\"cm-c-999 cm-mt-10\">{getTimeFormat(item.createTime)}</div>\r\n                                </div>\r\n                            </div>\r\n                        </List>\r\n                    )\r\n                })}\r\n            </div>\r\n        </div>\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}