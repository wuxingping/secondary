{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\caoxue\\\\Desktop\\\\secondary\\\\src\\\\pages\\\\product\\\\productDetail\\\\productDetail.js\";\n\n/**\r\n * Created by Lenovo on 2019/8/4.\r\n */\nimport React from 'react';\nimport praise from '../../../images/product/praise.png';\nimport alreadyPraise from '../../../images/product/already-praise.png';\nimport praiseHeart from '../../../images/product/praise-heart.png';\nimport msg from '../../../images/product/msg.png';\nimport comment from '../../../images/product/comment.png';\nimport { Title } from '../../../share';\nimport { getData, getTime, autoTextarea } from '../../../utils';\nimport '../productDetail/productDetail.css';\nexport default class ProductDetail extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      praiseList: [],\n      //点赞列表\n      commentList: [],\n      //评论列表\n      isPraise: 2,\n      //是否点赞，1为是2为否，默认为2\n      isShowComment: false,\n      //是否弹出留言框\n      item: {}\n    };\n    this.commentItem = {}; //获取从首页和轮播图点击过来的参数\n\n    var item = this.props.history.location.state || {};\n    this.id = item.id || item.productId;\n  }\n\n  componentDidMount() {\n    this.getProductById();\n    this.getPraiseList();\n    this.getCommentList();\n  }\n\n  getProductById() {\n    getData({\n      method: 'get',\n      url: 'getProductDetail',\n      data: {\n        productId: this.id\n      },\n      successCB: res => {\n        this.setState({\n          item: res.result\n        });\n      }\n    });\n  } //获取点赞列表\n\n\n  getPraiseList() {\n    getData({\n      method: 'get',\n      url: 'getPraiseList',\n      data: {\n        productId: this.id\n      },\n      successCB: res => {\n        this.setState({\n          praiseList: res.result.list,\n          isPraise: res.result.praiseStatus\n        });\n      }\n    });\n  } //获取评论列表\n\n\n  getCommentList() {\n    getData({\n      method: 'get',\n      url: 'getCommentReplyList',\n      data: {\n        productId: this.id\n      },\n      successCB: res => {\n        this.setState({\n          commentList: res.result\n        });\n      }\n    });\n  } //打开评论窗口\n\n\n  showBox(e, commentItem) {\n    e.stopPropagation(); //显示输入框窗口\n\n    this.setState({\n      isShowComment: true\n    }, () => {\n      //textare文本框高度自适应\n      autoTextarea(); //自动聚焦键盘\n\n      this.refs.textarea.focus();\n    }); //判断登录状态\n\n    getData({\n      method: 'post',\n      url: 'checkLoginValid',\n      successCB: res => {\n        this.commentItem = commentItem || this.state.item;\n      }\n    });\n  } //关闭评论窗口\n\n\n  closeBox() {\n    this.setState({\n      isShowComment: false\n    });\n  } //评论\n\n\n  comment() {\n    var userId = this.commentItem.fromUserId;\n\n    if (this.commentItem.fromUserId === this.state.item.publishUserId) {\n      userId = this.commentItem.toUserId;\n    }\n\n    this.setState({\n      isShowComment: !this.state.isShowComment\n    });\n    var value = this.refs.textarea.value;\n    getData({\n      method: 'post',\n      url: 'checkLoginValid',\n      successCB: res => {\n        getData({\n          method: 'post',\n          url: 'commentOrReply',\n          data: {\n            productId: this.id,\n            content: value,\n            toUserId: userId,\n            replyId: this.commentItem.id\n          },\n          successCB: res => {\n            this.getCommentList();\n          }\n        });\n      }\n    });\n  } //点赞\n\n\n  praise() {\n    getData({\n      method: 'post',\n      url: 'checkLoginValid',\n      successCB: res => {\n        var isPraise = this.state.isPraise === 2 ? 1 : 2;\n        this.setState({\n          isPraise: isPraise\n        });\n        getData({\n          method: 'post',\n          url: 'praiseOrUnPraise',\n          data: {\n            productId: this.id,\n            status: isPraise\n          },\n          successCB: res => {\n            this.getPraiseList();\n          }\n        });\n      }\n    });\n  } //进入聊天详情页面，初始化聊天\n\n\n  goChat() {\n    var param = {\n      productId: this.state.item.productId,\n      toUserId: this.state.item.publishUserId\n    };\n    getData({\n      method: 'post',\n      url: 'initChat',\n      data: param,\n      successCB: res => {\n        console.log(res);\n        this.props.history.push(\"messageDetail\", Object.assign(this.state.item, {\n          chatId: res.result.chatId\n        }));\n      }\n    });\n  }\n\n  render() {\n    var productImgs = this.state.item.productImgs && this.state.item.productImgs.split(\",\") || [];\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(Title, {\n      title: \"\\u8BE6\\u60C5\",\n      that: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"cm-mlr-018\",\n      onTouchStart: () => this.closeBox(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"cm-flex cm-ai-c cm-border-bottom-ddd cm-ptb-018 cm-fs-020\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.state.item.publishUserAvatar,\n      alt: \"\",\n      className: \"cm-img-08 cm-mr-018\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"cm-fw-bold cm-c-333 cm-fs-028\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, this.state.item.publishUserName), React.createElement(\"div\", {\n      className: \"cm-c-999 cm-mt-018 cm-fs-024\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, getTime(this.state.item.publishTime), \" \\u53D1\\u5E03\\u4E8E\", this.state.item.productAddress))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 183\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"cm-ptb-018 cm-fs-026\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"cm-c-main\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, \"\\uFFE5\", this.state.item.productPrice), React.createElement(\"div\", {\n      className: \"cm-c-333 cm-ptb-018\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, this.state.item.productDesc)), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, productImgs.map((img, index) => {\n      return React.createElement(\"img\", {\n        src: img,\n        key: index,\n        alt: \"\",\n        className: \"cm-img-banner\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      });\n    }))), React.createElement(\"div\", {\n      className: \"cm-pt-018\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"detail-line\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"cm-mr-018\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, \"\\u70B9\\u8D5E\"), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, this.state.praiseList.length)), React.createElement(\"div\", {\n      className: \"cm-flex cm-ai-c cm-ptb-018\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: praiseHeart,\n      alt: \"\",\n      className: \"cm-img-04 cm-mr-018\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"cm-flex cm-ai-c cm-flex-wrap\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, this.state.praiseList.length === 0 ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, \"\\u6682\\u65E0\\u70B9\\u8D5E\") : this.state.praiseList.map((item, index) => {\n      return React.createElement(\"div\", {\n        className: \"cm-flex cm-ai-c cm-mr-018\",\n        key: index,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 207\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: item.userAvatar,\n        alt: \"\",\n        className: \"cm-img-04 cm-border-radius-half\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 208\n        },\n        __self: this\n      }));\n    })))), React.createElement(\"div\", {\n      className: \"cm-pt-018\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"detail-line\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"cm-mr-018\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, \"\\u7559\\u8A00\"), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, this.state.commentList.length)), React.createElement(\"div\", {\n      className: \"cm-flex cm-ai-c cm-ptb-018\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: msg,\n      alt: \"\",\n      className: \"cm-img-04 cm-mr-018 cm-as-fs cm-mt-018\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }), this.state.commentList.length === 0 ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }, \"\\u6682\\u65E0\\u7559\\u8A00\") : React.createElement(\"div\", {\n      className: \"cm-w-full\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }, this.state.commentList.map((item, index) => {\n      return React.createElement(\"div\", {\n        key: index,\n        className: \"cm-ptb-018 cm-border-bottom-eee\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"cm-flex cm-jc-sb cm-ai-c\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"cm-flex cm-ai-c\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: item.fromUserAvatar,\n        alt: \"\",\n        className: \"cm-img-04 cm-border-radius-half cm-mr-018\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"cm-c-333 cm-fw-bold cm-fs-026\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 229\n        },\n        __self: this\n      }, item.fromUserName)), React.createElement(\"div\", {\n        className: \"cm-c-999 cm-fs-024\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 231\n        },\n        __self: this\n      }, getTime(item.createTime))), React.createElement(\"div\", {\n        className: \"cm-c-666 cm-fs-height detail-replay cm-fs-026\",\n        onClick: e => this.showBox(e, item),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, item.type !== 1 ? \"回复@\" + item.toUserName + \"：\" : null, item.content));\n    }))))), this.state.isShowComment ? React.createElement(\"div\", {\n      className: \"cm-bottom-position cm-bc-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      ref: \"textarea\",\n      className: \"cm-border-ddd cm-border-radius-10 cm-mr-018 cm-flex-1 cm-p-018\",\n      name: \"\",\n      id: \"\",\n      cols: \"30\",\n      rows: \"1\",\n      placeholder: \"\\u770B\\u5BF9\\u5C31\\u7559\\u8A00\\uFF0C\\u95EE\\u95EE\\u66F4\\u591A\\u7EC6\\u8282\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 245\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"cm-btn-main-higher cm-as-fe\",\n      onClick: () => this.comment(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }, \"\\u53D1\\u9001\")) : React.createElement(\"div\", {\n      className: \"detail-fill\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"cm-flex cm-ai-c cm-jc-sb detail-bottom cm-jc-sb\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"cm-flex cm-ai-c\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"cm-flex-column cm-ai-c cm-jc-c cm-mr-018\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: this.state.isPraise === 1 ? alreadyPraise : praise,\n      alt: \"\",\n      className: \"cm-img-04\",\n      onClick: () => this.praise(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"cm-c-999 cm-fs-022\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, \"\\u70B9\\u8D5E\")), React.createElement(\"div\", {\n      className: \"cm-flex-column cm-jc-c cm-ai-c cm-mlr-018\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: comment,\n      alt: \"\",\n      className: \"cm-img-04\",\n      onClick: e => this.showBox(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"cm-c-999 cm-fs-022\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }, \"\\u7559\\u8A00\"))), React.createElement(\"span\", {\n      className: \"cm-btn-main-higher\",\n      onClick: () => this.goChat(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 260\n      },\n      __self: this\n    }, \"\\u6211\\u60F3\\u8981\"))));\n  }\n\n}","map":{"version":3,"sources":["C:\\Users\\caoxue\\Desktop\\secondary\\src\\pages\\product\\productDetail\\productDetail.js"],"names":["React","praise","alreadyPraise","praiseHeart","msg","comment","Title","getData","getTime","autoTextarea","ProductDetail","Component","constructor","props","state","praiseList","commentList","isPraise","isShowComment","item","commentItem","history","location","id","productId","componentDidMount","getProductById","getPraiseList","getCommentList","method","url","data","successCB","res","setState","result","list","praiseStatus","showBox","e","stopPropagation","refs","textarea","focus","closeBox","userId","fromUserId","publishUserId","toUserId","value","content","replyId","status","goChat","param","console","log","push","Object","assign","chatId","render","productImgs","split","publishUserAvatar","publishUserName","publishTime","productAddress","productPrice","productDesc","map","img","index","length","userAvatar","fromUserAvatar","fromUserName","createTime","type","toUserName"],"mappings":"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","sourcesContent":["/**\r\n * Created by Lenovo on 2019/8/4.\r\n */\r\nimport React from 'react';\r\nimport praise from '../../../images/product/praise.png';\r\nimport alreadyPraise from '../../../images/product/already-praise.png';\r\nimport praiseHeart from '../../../images/product/praise-heart.png';\r\nimport msg from '../../../images/product/msg.png';\r\nimport comment from '../../../images/product/comment.png';\r\nimport {Title} from '../../../share';\r\nimport {getData,getTime,autoTextarea} from '../../../utils';\r\nimport '../productDetail/productDetail.css';\r\nexport default class ProductDetail extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            praiseList: [],//点赞列表\r\n            commentList: [],//评论列表\r\n            isPraise:2, //是否点赞，1为是2为否，默认为2\r\n            isShowComment:false,//是否弹出留言框\r\n            item:{}\r\n        };\r\n        this.commentItem = {};\r\n        //获取从首页和轮播图点击过来的参数\r\n        var item = this.props.history.location.state ||{};\r\n        this.id = item.id||item.productId;\r\n    }\r\n    componentDidMount(){\r\n        this.getProductById();\r\n        this.getPraiseList();\r\n        this.getCommentList();\r\n    }\r\n\r\n    getProductById(){\r\n        getData({\r\n            method: 'get',\r\n            url: 'getProductDetail',\r\n            data:{productId:this.id},\r\n            successCB: (res) => {\r\n                this.setState({\r\n                    item: res.result\r\n                })\r\n            }\r\n        })\r\n    }\r\n    //获取点赞列表\r\n    getPraiseList(){\r\n        getData({\r\n            method: 'get',\r\n            url: 'getPraiseList',\r\n            data:{productId:this.id},\r\n            successCB: (res) => {\r\n                this.setState({\r\n                    praiseList: res.result.list,\r\n                    isPraise:res.result.praiseStatus\r\n                })\r\n            }\r\n        })\r\n    }\r\n    //获取评论列表\r\n    getCommentList(){\r\n        getData({\r\n            method: 'get',\r\n            url: 'getCommentReplyList',\r\n            data:{productId:this.id},\r\n            successCB: (res) => {\r\n                this.setState({\r\n                    commentList: res.result\r\n                })\r\n            }\r\n        })\r\n    }\r\n    //打开评论窗口\r\n    showBox(e,commentItem){\r\n        e.stopPropagation();\r\n        //显示输入框窗口\r\n        this.setState({\r\n            isShowComment:true\r\n        },()=>{\r\n            //textare文本框高度自适应\r\n            autoTextarea();\r\n            //自动聚焦键盘\r\n            this.refs.textarea.focus();\r\n        });\r\n        //判断登录状态\r\n        getData({\r\n            method: 'post',\r\n            url: 'checkLoginValid',\r\n            successCB: (res) => {\r\n                this.commentItem = commentItem || this.state.item;\r\n            }\r\n        });\r\n    }\r\n    //关闭评论窗口\r\n    closeBox(){\r\n        this.setState({\r\n            isShowComment:false\r\n        })\r\n    }\r\n    //评论\r\n    comment(){\r\n        var userId = this.commentItem.fromUserId;\r\n        if(this.commentItem.fromUserId === this.state.item.publishUserId){\r\n            userId = this.commentItem.toUserId;\r\n        }\r\n        this.setState({\r\n            isShowComment:!this.state.isShowComment\r\n        });\r\n        var value = this.refs.textarea.value;\r\n        getData({\r\n            method: 'post',\r\n            url: 'checkLoginValid',\r\n            successCB: (res) => {\r\n                getData({\r\n                    method: 'post',\r\n                    url: 'commentOrReply',\r\n                    data: {\r\n                        productId:this.id,\r\n                        content:value,\r\n                        toUserId:userId,\r\n                        replyId: this.commentItem.id,\r\n                    },\r\n                    successCB: (res) => {\r\n                        this.getCommentList();\r\n                    }\r\n                })\r\n            }\r\n        });\r\n    }\r\n    //点赞\r\n    praise(){\r\n        getData({\r\n            method: 'post',\r\n            url: 'checkLoginValid',\r\n            successCB: (res) => {\r\n                    var isPraise = (this.state.isPraise === 2)?1:2;\r\n                    this.setState({\r\n                        isPraise:isPraise\r\n                    });\r\n                    getData({\r\n                        method: 'post',\r\n                        url: 'praiseOrUnPraise',\r\n                        data: {\r\n                            productId:this.id,\r\n                            status:isPraise\r\n                        },\r\n                        successCB: (res) => {\r\n                            this.getPraiseList();\r\n                        }\r\n                    })\r\n            }\r\n        });\r\n    }\r\n    //进入聊天详情页面，初始化聊天\r\n    goChat(){\r\n        var param = {\r\n            productId:this.state.item.productId,\r\n            toUserId:this.state.item.publishUserId,\r\n        }\r\n        getData({\r\n            method: 'post',\r\n            url: 'initChat',\r\n            data:param,\r\n            successCB: (res) => {\r\n                console.log(res);\r\n                this.props.history.push(\"messageDetail\",Object.assign(this.state.item,{chatId:res.result.chatId}))\r\n            }\r\n        });\r\n    }\r\n    render() {\r\n        var productImgs = this.state.item.productImgs && this.state.item.productImgs.split(\",\")||[];\r\n        return (\r\n            <div>\r\n                <Title title=\"详情\" that={this}/>\r\n                <div className=\"cm-mlr-018\" onTouchStart={()=>this.closeBox()}>\r\n                    <div className=\"cm-flex cm-ai-c cm-border-bottom-ddd cm-ptb-018 cm-fs-020\">\r\n                        <img src={this.state.item.publishUserAvatar} alt=\"\" className=\"cm-img-08 cm-mr-018\"/>\r\n                        <div>\r\n                        <div className=\"cm-fw-bold cm-c-333 cm-fs-028\">{this.state.item.publishUserName}</div>\r\n                        <div className=\"cm-c-999 cm-mt-018 cm-fs-024\">{getTime(this.state.item.publishTime)} 发布于{this.state.item.productAddress}</div>\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                    <div className=\"cm-ptb-018 cm-fs-026\">\r\n                        <div className=\"cm-c-main\">￥{this.state.item.productPrice}</div>\r\n                        <div className=\"cm-c-333 cm-ptb-018\">{this.state.item.productDesc}</div>\r\n                    </div>\r\n                    <div>\r\n                        {productImgs.map((img,index)=>{\r\n                            return(\r\n                                <img src={img} key={index} alt=\"\" className=\"cm-img-banner\"/>\r\n                                )\r\n                        })}\r\n                    </div>\r\n                    </div>\r\n                    <div className=\"cm-pt-018\">\r\n                        <div className=\"detail-line\">\r\n                            <span className=\"cm-mr-018\">点赞</span><span>{this.state.praiseList.length}</span>\r\n                        </div>\r\n                        <div className=\"cm-flex cm-ai-c cm-ptb-018\">\r\n                            <img src={praiseHeart} alt=\"\" className=\"cm-img-04 cm-mr-018\"/>\r\n                            <div className=\"cm-flex cm-ai-c cm-flex-wrap\">\r\n                            {this.state.praiseList.length===0?\r\n                                <div>暂无点赞</div>:\r\n                                this.state.praiseList.map((item, index) => {\r\n                                return (\r\n                                    <div className=\"cm-flex cm-ai-c cm-mr-018\" key={index}>\r\n                                        <img src={item.userAvatar} alt=\"\" className=\"cm-img-04 cm-border-radius-half\"/>\r\n                                    </div>\r\n                                )\r\n                            })\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                    </div>\r\n                    <div className=\"cm-pt-018\">\r\n                        <div className=\"detail-line\"><span\r\n                            className=\"cm-mr-018\">留言</span><span>{this.state.commentList.length}</span></div>\r\n                        <div className=\"cm-flex cm-ai-c cm-ptb-018\">\r\n                            <img src={msg} alt=\"\" className=\"cm-img-04 cm-mr-018 cm-as-fs cm-mt-018\"/>\r\n                            {this.state.commentList.length===0?<div>暂无留言</div>:\r\n                                <div className=\"cm-w-full\">\r\n                                    {this.state.commentList.map((item, index) => {\r\n                                    return (\r\n                                        <div key={index} className=\"cm-ptb-018 cm-border-bottom-eee\">\r\n                                        <div className=\"cm-flex cm-jc-sb cm-ai-c\">\r\n                                            <div className=\"cm-flex cm-ai-c\">\r\n                                                <img src={item.fromUserAvatar} alt=\"\" className=\"cm-img-04 cm-border-radius-half cm-mr-018\"/>\r\n                                                <div className=\"cm-c-333 cm-fw-bold cm-fs-026\">{item.fromUserName}</div>\r\n                                            </div>\r\n                                            <div className=\"cm-c-999 cm-fs-024\">{getTime(item.createTime)}</div>\r\n                                        </div>\r\n                                        <div className=\"cm-c-666 cm-fs-height detail-replay cm-fs-026\" onClick={(e)=>this.showBox(e,item)}>\r\n                                           {item.type!==1? \"回复@\"+item.toUserName+\"：\":null}{item.content}\r\n                                        </div>\r\n                                        </div>\r\n                                    )\r\n                                })}\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {this.state.isShowComment?<div className=\"cm-bottom-position cm-bc-white\">\r\n                        <textarea ref=\"textarea\" className=\"cm-border-ddd cm-border-radius-10 cm-mr-018 cm-flex-1 cm-p-018\" name=\"\" id=\"\" cols=\"30\" rows=\"1\" placeholder=\"看对就留言，问问更多细节\"></textarea>\r\n                        <div className=\"cm-btn-main-higher cm-as-fe\" onClick={()=>this.comment()}>发送</div>\r\n                    </div>:<div className=\"detail-fill\">\r\n                        <div className=\"cm-flex cm-ai-c cm-jc-sb detail-bottom cm-jc-sb\">\r\n                            <div className=\"cm-flex cm-ai-c\">\r\n                                <div className=\"cm-flex-column cm-ai-c cm-jc-c cm-mr-018\">\r\n                                    <img\r\n                                        src={this.state.isPraise === 1?alreadyPraise:praise} alt=\"\" className=\"cm-img-04\" onClick={()=>this.praise()}/>\r\n                                    <span className=\"cm-c-999 cm-fs-022\">点赞</span>\r\n                                </div>\r\n                                <div className=\"cm-flex-column cm-jc-c cm-ai-c cm-mlr-018\">\r\n                                    <img src={comment} alt=\"\" className=\"cm-img-04\" onClick={(e)=>this.showBox(e)}/>\r\n                                    <span className=\"cm-c-999 cm-fs-022\">留言</span>\r\n                                </div>\r\n                            </div>\r\n                            <span className=\"cm-btn-main-higher\" onClick={()=>this.goChat()}>我想要</span>\r\n                        </div>\r\n                    </div>}\r\n            </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}