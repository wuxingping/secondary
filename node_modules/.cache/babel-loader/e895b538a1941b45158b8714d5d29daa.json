{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\caoxue\\\\Desktop\\\\secondary\\\\src\\\\pages\\\\personal\\\\myPublish.js\";\nimport React from 'react';\nimport { Title } from '../../share';\nimport publish from \"../../images/personal/publish.png\";\nimport { getData, goNext } from '../../utils';\nimport ProductList from './productList';\nlet self;\nexport default class MyPublish extends React.Component {\n  constructor(props) {\n    super(props);\n    self = this;\n    this.type = 1; //type表示类型，1.我发布的；2.我卖出的 3.我买到的\n\n    this.state = {\n      dataList: [] //初始化我发布的商品列表\n\n    };\n  }\n\n  componentDidMount() {\n    this.getMyProductList();\n  } //获取我发布的商品列表\n\n\n  getMyProductList() {\n    getData({\n      method: 'post',\n      url: 'getMyProductList',\n      data: {\n        type: this.type\n      },\n      successCB: res => {\n        this.setState({\n          dataList: res.result.list\n        });\n      }\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, React.createElement(Title, {\n      title: \"\\u6211\\u53D1\\u5E03\\u7684\",\n      that: this,\n      style: {\n        background: \"#fff\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37\n      },\n      __self: this\n    }), React.createElement(ProductList, {\n      TopArea: TopArea,\n      NoData: NoData,\n      ButtonArea: ButtonArea,\n      dataList: this.state.dataList,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }));\n  }\n\n}\n\nclass ButtonArea extends React.Component {\n  constructor(props) {\n    super(props);\n  } //编辑发布的信息，进入商品编辑页面\n\n\n  modifyPublish(e, item) {\n    e.stopPropagation();\n    goNext(self, \"modifyProduct\", item);\n  } //删除发布信息\n\n\n  delProduct(e, item) {\n    e.stopPropagation();\n    getData({\n      method: 'post',\n      url: 'delProduct',\n      data: {\n        productId: item.id,\n        type: self.type\n      },\n      successCB: res => {\n        //删除之后重新调一下我发布的商品列表接口，刷新列表页\n        self.getMyProductList();\n      }\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"cm-flex cm-ai-c cm-ptb-018 cm-border-top-eee cm-jc-fe\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"cm-btn-border-333 cm-flex cm-ai-c cm-mr-018\",\n      onClick: e => this.modifyPublish(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"cm-fs-028\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"\\u7F16\\u8F91\")), React.createElement(\"div\", {\n      className: \"cm-btn-border-333 cm-flex cm-ai-c cm-mr-018\",\n      onClick: e => this.delProduct(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"cm-fs-028\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"\\u5220\\u9664\")));\n  }\n\n}\n\nclass TopArea extends React.Component {\n  constructor(props) {\n    super(props);\n    console.log(this);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"cm-ptb-018 cm-p-018 cm-bc-white\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"cm-flex cm-ai-c\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: publish,\n      alt: \"\",\n      className: \"cm-img-04 cm-border-radius-half\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"cm-c-999 cm-ml-009 cm-fs-026\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"\\u6211\\u53D1\\u5E03\\u7684\\u5B9D\\u8D1D\\u5171\", React.createElement(\"span\", {\n      className: \"cm-c-main cm-fs-028\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \" \", this.props.num, \" \"), \"\\u4EF6\")));\n  }\n\n}\n\nclass NoData extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"cm-c-666 cm-tx-c cm-mt-080\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"\\u4F60\\u8FD8\\u6CA1\\u6709\\u53D1\\u5E03\\u4EFB\\u4F55\\u5B9D\\u8D1D\\u54E6\\uFF01\"), React.createElement(\"div\", {\n      className: \"cm-mt-036\",\n      onClick: () => goNext(self, 'publish'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"cm-btn-main-higher\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"\\u53D1\\u5E03\\u5B9D\\u8D1D\")));\n  }\n\n}","map":{"version":3,"sources":["C:\\Users\\caoxue\\Desktop\\secondary\\src\\pages\\personal\\myPublish.js"],"names":["React","Title","publish","getData","goNext","ProductList","self","MyPublish","Component","constructor","props","type","state","dataList","componentDidMount","getMyProductList","method","url","data","successCB","res","setState","result","list","render","background","TopArea","NoData","ButtonArea","modifyPublish","e","item","stopPropagation","delProduct","productId","id","console","log","num"],"mappings":"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","sourcesContent":["\r\nimport React from 'react';\r\nimport {Title} from '../../share';\r\nimport publish from \"../../images/personal/publish.png\";\r\nimport {getData, goNext} from '../../utils';\r\nimport ProductList from './productList';\r\nlet self;\r\nexport default class MyPublish extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        self = this;\r\n        this.type = 1;//type表示类型，1.我发布的；2.我卖出的 3.我买到的\r\n        this.state = {\r\n            dataList:[],//初始化我发布的商品列表\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        this.getMyProductList();\r\n    }\r\n    //获取我发布的商品列表\r\n    getMyProductList(){\r\n        getData({\r\n            method: 'post',\r\n            url: 'getMyProductList',\r\n            data: {\r\n                type:this.type\r\n            },\r\n            successCB: (res) => {\r\n                this.setState({\r\n                    dataList:res.result.list\r\n                })\r\n            }\r\n        })\r\n    }\r\n    render() {\r\n        return <div>\r\n            <Title title=\"我发布的\" that={this} style={{background:\"#fff\"}}/>\r\n            <ProductList\r\n                TopArea={TopArea}\r\n                NoData={NoData}\r\n                ButtonArea={ButtonArea}\r\n                dataList = {this.state.dataList}\r\n            />\r\n        </div>\r\n    }\r\n}\r\nclass ButtonArea extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n    //编辑发布的信息，进入商品编辑页面\r\n    modifyPublish(e,item){\r\n        e.stopPropagation();\r\n        goNext(self,\"modifyProduct\",item);\r\n    }\r\n    //删除发布信息\r\n    delProduct(e,item){\r\n        e.stopPropagation();\r\n        getData({\r\n            method: 'post',\r\n            url: 'delProduct',\r\n            data: {\r\n                productId:item.id,\r\n                type:self.type\r\n            },\r\n            successCB: (res) => {\r\n                //删除之后重新调一下我发布的商品列表接口，刷新列表页\r\n                self.getMyProductList();\r\n            }\r\n        })\r\n    }\r\n    render(){\r\n        return  <div className=\"cm-flex cm-ai-c cm-ptb-018 cm-border-top-eee cm-jc-fe\">\r\n            <div className=\"cm-btn-border-333 cm-flex cm-ai-c cm-mr-018\" onClick={(e)=>this.modifyPublish(e)}>\r\n                <span className=\"cm-fs-028\">编辑</span>\r\n            </div>\r\n            <div className=\"cm-btn-border-333 cm-flex cm-ai-c cm-mr-018\" onClick={(e)=>this.delProduct(e)}>\r\n                <span className=\"cm-fs-028\">删除</span>\r\n            </div>\r\n        </div>\r\n    }\r\n}\r\nclass TopArea extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n        console.log(this);\r\n    }\r\n    render(){\r\n        return <div className=\"cm-ptb-018 cm-p-018 cm-bc-white\">\r\n            <div className=\"cm-flex cm-ai-c\">\r\n                <img src={publish} alt=\"\" className=\"cm-img-04 cm-border-radius-half\"/>\r\n                <div className=\"cm-c-999 cm-ml-009 cm-fs-026\">我发布的宝贝共<span className=\"cm-c-main cm-fs-028\"> {this.props.num} </span>件</div>\r\n            </div>\r\n        </div>\r\n    }\r\n}\r\nclass NoData extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n    }\r\n    render(){\r\n        return  <div className=\"cm-c-666 cm-tx-c cm-mt-080\">\r\n            <div>你还没有发布任何宝贝哦！</div>\r\n            <div className=\"cm-mt-036\" onClick={()=>goNext(self,'publish')}>\r\n                <span className=\"cm-btn-main-higher\">发布宝贝</span>\r\n            </div>\r\n        </div>\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}