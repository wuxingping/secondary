{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\caoxue\\\\Desktop\\\\secondary\\\\secondary\\\\src\\\\pages\\\\personal\\\\personal.js\";\n\n/**\r\n * Created by Lenovo on 2019/8/10.\r\n */\nimport React from 'react';\nimport './personal.css';\nimport sale from '../../images/personal/sale.png';\nimport buy from '../../images/personal/buy.png';\nimport publish from \"../../images/personal/publish.png\";\nimport modify from '../../images/personal/modify.png';\nimport { Title, List, Button, TabBottom } from '../../share';\nimport { getData, goNext } from '../../utils';\nconst Item = List.Item;\nexport default class Personal extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      result: {\n        publish: {\n          num: 0,\n          money: 0\n        },\n        //发布的数量和金额\n        purchase: {\n          num: 0,\n          money: 0\n        },\n        //购买的数量和金额\n        sale: {\n          num: 0,\n          money: 0\n        } //卖出的数量和金额\n\n      },\n      info: [{\n        leftTitle: \"我发布的\",\n        leftIcon: [publish],\n        total: this.state.result.publish.num,\n        link: \"myPublish\"\n      }, {\n        leftTitle: \"我卖出的\",\n        leftIcon: [sale],\n        total: this.state.result.purchase.num,\n        link: \"mySale\"\n      }, {\n        leftTitle: \"我买到的\",\n        leftIcon: [buy],\n        total: this.state.result.sale.num,\n        link: \"myPurchase\"\n      }, {\n        leftTitle: \"修改密码\",\n        leftIcon: [modify],\n        link: \"modifyPwd\"\n      }]\n    };\n  }\n\n  componentDidMount() {\n    this.getMyProductList();\n  }\n\n  goLogin() {\n    getData({\n      method: 'post',\n      url: 'logout',\n      data: {},\n      successCB: res => {\n        localStorage.removeItem(\"userInfo\");\n        localStorage.removeItem(\"token\");\n        goNext(this, 'login');\n      }\n    });\n  }\n\n  getMyProductList() {\n    getData({\n      method: 'get',\n      url: 'getProductNum',\n      successCB: res => {\n        if (res.code == 200) {\n          this.setState({\n            result: res.result\n          });\n        }\n      }\n    });\n  }\n\n  render() {\n    var user = JSON.parse(localStorage.getItem(\"userInfo\")) || {};\n    console.log(user);\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(Title, {\n      title: \"\\u4E2A\\u4EBA\\u4E2D\\u5FC3\",\n      isHome: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"cm-mlr-018\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"cm-mtb-018 cm-ptb-018 cm-flex cm-ai-c\",\n      onClick: () => goNext(this, 'modifyInfo'),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: user.userAvatar,\n      alt: \"\",\n      className: \"cm-img-10 cm-border-radius-half\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"cm-ml-018\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"cm-c-333 cm-fw-bold cm-fs-028\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, user.userName), React.createElement(\"div\", {\n      className: \"cm-c-999 cm-mt-018 cm-fs-022\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"\\u5F53\\u524D\\u5356\\u51FA\\u7D2F\\u8BA1\\u91D1\\u989D \", React.createElement(\"span\", {\n      className: \"cm-c-main cm-fs-026\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"\\uFFE5\", this.state.result.sale.money)))), React.createElement(\"div\", {\n      className: \"cm-space-line\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), this.state.info.map((item, index) => {\n      console.log(item.total);\n      return React.createElement(List, {\n        key: index,\n        onClick: () => goNext(this, item.link, item),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(Item, {\n        leftIcon: item.leftIcon,\n        leftTitle: item.leftTitle,\n        rightTitle: item.total ? item.total : \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }));\n    }), React.createElement(Button, {\n      className: \"cm-mt-040\",\n      onClick: () => this.goLogin(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"\\u5B89\\u5168\\u9000\\u51FA\"), React.createElement(TabBottom, {\n      history: this.props.history,\n      activeNum: 3,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    })));\n  }\n\n}","map":{"version":3,"sources":["C:\\Users\\caoxue\\Desktop\\secondary\\secondary\\src\\pages\\personal\\personal.js"],"names":["React","sale","buy","publish","modify","Title","List","Button","TabBottom","getData","goNext","Item","Personal","Component","constructor","props","state","result","num","money","purchase","info","leftTitle","leftIcon","total","link","componentDidMount","getMyProductList","goLogin","method","url","data","successCB","res","localStorage","removeItem","code","setState","render","user","JSON","parse","getItem","console","log","userAvatar","userName","map","item","index","history"],"mappings":"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","sourcesContent":["/**\r\n * Created by Lenovo on 2019/8/10.\r\n */\r\nimport React from 'react';\r\nimport './personal.css';\r\nimport sale from '../../images/personal/sale.png';\r\nimport buy from '../../images/personal/buy.png';\r\nimport publish from \"../../images/personal/publish.png\";\r\nimport modify from '../../images/personal/modify.png';\r\nimport {Title, List,Button,TabBottom} from '../../share';\r\nimport {getData, goNext} from '../../utils';\r\nconst Item = List.Item;\r\nexport default class Personal extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            result:{\r\n                publish: {num:0,money:0},//发布的数量和金额\r\n                purchase: {num:0,money:0},//购买的数量和金额\r\n                sale: {num:0,money:0},//卖出的数量和金额\r\n            },\r\n            info:[\r\n                {leftTitle:\"我发布的\",leftIcon:[publish],total:this.state.result.publish.num,link:\"myPublish\"},\r\n                {leftTitle:\"我卖出的\",leftIcon:[sale],total:this.state.result.purchase.num,link:\"mySale\"},\r\n                {leftTitle:\"我买到的\",leftIcon:[buy],total:this.state.result.sale.num,link:\"myPurchase\"},\r\n                {leftTitle:\"修改密码\",leftIcon:[modify],link:\"modifyPwd\"}\r\n            ],\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        this.getMyProductList();\r\n    }\r\n    goLogin(){\r\n        getData({\r\n            method: 'post',\r\n            url: 'logout',\r\n            data: {},\r\n            successCB: (res) => {\r\n                localStorage.removeItem(\"userInfo\");\r\n                localStorage.removeItem(\"token\");\r\n                goNext(this, 'login');\r\n            }\r\n        })\r\n    }\r\n    getMyProductList(){\r\n        getData({\r\n            method: 'get',\r\n            url: 'getProductNum',\r\n            successCB: (res) => {\r\n                if(res.code == 200){\r\n                    this.setState({\r\n                        result:res.result\r\n                    })\r\n                }\r\n            }\r\n        })\r\n    }\r\n    render() {\r\n        var user = JSON.parse(localStorage.getItem(\"userInfo\"))||{};\r\n        console.log(user);\r\n        return <div>\r\n            <Title title=\"个人中心\" isHome={true}/>\r\n            <div className=\"cm-mlr-018\">\r\n                <div className=\"cm-mtb-018 cm-ptb-018 cm-flex cm-ai-c\" onClick={() => goNext(this, 'modifyInfo')}>\r\n                    <img src={user.userAvatar} alt=\"\" className=\"cm-img-10 cm-border-radius-half\"/>\r\n                    <div className=\"cm-ml-018\">\r\n                        <div className=\"cm-c-333 cm-fw-bold cm-fs-028\">{user.userName}</div>\r\n                        <div className=\"cm-c-999 cm-mt-018 cm-fs-022\">当前卖出累计金额 <span className=\"cm-c-main cm-fs-026\">￥{this.state.result.sale.money}</span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"cm-space-line\"></div>\r\n                {this.state.info.map((item,index)=>{\r\n                    console.log(item.total);\r\n                    return(\r\n                    <List key={index} onClick={()=>goNext(this,item.link,item)}>\r\n                        <Item\r\n                            leftIcon={item.leftIcon}\r\n                            leftTitle={item.leftTitle}\r\n                            rightTitle={item.total?item.total:\"\"}\r\n                        />\r\n                    </List>\r\n                    )\r\n                })}\r\n                <Button className=\"cm-mt-040\" onClick={()=>this.goLogin()}>安全退出</Button>\r\n                <TabBottom history={this.props.history} activeNum={3}/>\r\n            </div>\r\n        </div>\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}