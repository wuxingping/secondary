{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\caoxue\\\\Desktop\\\\secondary\\\\secondary\\\\src\\\\pages\\\\index\\\\index.js\";\n\n/**\r\n * Created by Lenovo on 2019/8/4.\r\n */\nimport React from 'react';\nimport search from '../../images/index/search.png';\nimport scan from '../../images/index/scan-in.png';\nimport banner from '../../images/index/banner.jpg';\nimport { Carousel } from 'antd';\nimport { getData, goNext, setState } from '../../utils';\nimport './index.css';\nexport default class Index extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      typeList: [],\n      activeType: 0,\n      productList: [],\n      bannerList: []\n    };\n  }\n\n  componentDidMount() {\n    this.getProductLst();\n    this.getProductType();\n    this.getBannerList();\n  }\n\n  changeType(index) {\n    var box = this.refs.box; //box.style.transform = \"translateX(\"+self.slideWidth*index+\"px)\";\n\n    var count = parseInt((this.state.typeList.length * 5 * 10 - window.innerWidth + 50) / (5 * 10));\n\n    if (index >= 3 && index <= 3 + count) {\n      box.style.transform = \"translateX(\" + -(index - 2) * 5 + \"rem)\";\n      box.style.transition = \"transform .5s\";\n    }\n\n    setState(this, {\n      activeType: index\n    });\n  }\n\n  goNext(item) {\n    goNext(this, \"indexDetail\", item);\n  }\n\n  getProductLst() {\n    var that = this;\n    getData('post', 'index/productList', {}, function (res) {\n      that.setState({\n        productList: res.data.result\n      });\n    });\n  }\n\n  getBannerList() {\n    var that = this;\n    getData('post', 'index/bannerList', {}, function (res) {\n      that.setState({\n        bannerList: res.data.result\n      });\n    });\n  }\n\n  getProductType() {\n    var that = this;\n    getData('post', 'index/productTypeList', {}, function (res) {\n      that.setState({\n        typeList: res.data.result\n      });\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"index-top\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"cm-flex cm-width-full\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: search,\n      alt: \"\",\n      className: \"index-search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"text\",\n      className: \"index-input\",\n      placeholder: \"\\u8BF7\\u8F93\\u5165\\u5546\\u54C1\\u5173\\u952E\\u5B57\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    })), React.createElement(\"img\", {\n      src: scan,\n      alt: \"\",\n      className: \"cm-img-small\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"cm-mlr-15\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(Carousel, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, this.state.bannerList.map(item => React.createElement(\"a\", {\n      key: item,\n      href: \"http://www.alipay.com\",\n      style: {\n        display: 'inline-block',\n        width: '100%',\n        height: this.state.imgHeight\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: item.image,\n      alt: \"\",\n      style: {\n        width: '100%',\n        verticalAlign: 'top'\n      },\n      onLoad: () => {\n        // fire window resize event to change height\n        window.dispatchEvent(new Event('resize'));\n        this.setState({\n          imgHeight: 'auto'\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"cm-flex cm-mtb-10 cm-ai-c index-scroll\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"cm-flex cm-ai-c\",\n      ref: \"box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, this.state.typeList.map((item, index) => {\n      return React.createElement(\"div\", {\n        key: index,\n        className: this.state.activeType == index ? \"index-type-active\" : \"index-type\",\n        onClick: () => this.changeType(index),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, item.name);\n    }))), React.createElement(\"div\", {\n      className: \"index-box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, this.state.productList.map((item, index) => {\n      return React.createElement(\"div\", {\n        className: \"index-product\",\n        key: index,\n        onClick: () => this.goNext(item),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: item.productImg,\n        alt: \"\",\n        className: \"index-img\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"index-des\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, item.productDes), React.createElement(\"div\", {\n        className: \"index-price\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, \"\\uFFE5\", item.productPrice));\n    }))));\n  }\n\n}","map":{"version":3,"sources":["C:\\Users\\caoxue\\Desktop\\secondary\\secondary\\src\\pages\\index\\index.js"],"names":["React","search","scan","banner","Carousel","getData","goNext","setState","Index","Component","constructor","props","state","typeList","activeType","productList","bannerList","componentDidMount","getProductLst","getProductType","getBannerList","changeType","index","box","refs","count","parseInt","length","window","innerWidth","style","transform","transition","item","that","res","data","result","render","map","display","width","height","imgHeight","image","verticalAlign","dispatchEvent","Event","name","productImg","productDes","productPrice"],"mappings":"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","sourcesContent":["/**\r\n * Created by Lenovo on 2019/8/4.\r\n */\r\nimport React from 'react';\r\nimport search from '../../images/index/search.png';\r\nimport scan from '../../images/index/scan-in.png';\r\nimport banner from '../../images/index/banner.jpg';\r\nimport {Carousel} from 'antd';\r\nimport {getData,goNext,setState} from '../../utils';\r\nimport './index.css';\r\nexport default class Index extends React.Component {\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            typeList:[],\r\n            activeType:0,\r\n            productList:[],\r\n            bannerList:[],\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        this.getProductLst();\r\n        this.getProductType();\r\n        this.getBannerList();\r\n    }\r\n    changeType(index){\r\n        var box = this.refs.box;\r\n        //box.style.transform = \"translateX(\"+self.slideWidth*index+\"px)\";\r\n        var count = parseInt((this.state.typeList.length*5*10-window.innerWidth+50)/(5*10));\r\n        if(index>=3&&index<=3+count){\r\n            box.style.transform = \"translateX(\"+(-(index-2)*5)+\"rem)\";\r\n            box.style.transition = \"transform .5s\";\r\n        }\r\n        setState(this,{activeType:index})\r\n    }\r\n    goNext(item){\r\n        goNext(this,\"indexDetail\",item);\r\n    }\r\n    getProductLst(){\r\n        var that = this;\r\n        getData('post','index/productList',{},function (res) {\r\n                that.setState({\r\n                    productList: res.data.result\r\n                })\r\n        })\r\n    }\r\n    getBannerList(){\r\n        var that = this;\r\n        getData('post','index/bannerList',{},function (res) {\r\n            that.setState({\r\n                bannerList: res.data.result\r\n            })\r\n        })\r\n    }\r\n    getProductType(){\r\n        var that = this;\r\n        getData('post','index/productTypeList',{},function (res) {\r\n            that.setState({\r\n                typeList: res.data.result\r\n            })\r\n        })\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n                <div className=\"index-top\">\r\n                    <div className=\"cm-flex cm-width-full\">\r\n                        <img src={search} alt=\"\" className=\"index-search\"/>\r\n                        <input type=\"text\" className=\"index-input\" placeholder=\"请输入商品关键字\"/>\r\n                    </div>\r\n                    <img src={scan} alt=\"\" className=\"cm-img-small\"/>\r\n                </div>\r\n                <div className=\"cm-mlr-15\">\r\n                    <Carousel>\r\n                        {this.state.bannerList.map(item => (\r\n                        <a\r\n                            key={item}\r\n                            href=\"http://www.alipay.com\"\r\n                            style={{ display: 'inline-block', width: '100%', height: this.state.imgHeight }}\r\n                        >\r\n                            <img\r\n                                src={item.image}\r\n                                alt=\"\"\r\n                                style={{ width: '100%', verticalAlign: 'top' }}\r\n                                onLoad={() => {\r\n                                    // fire window resize event to change height\r\n                                    window.dispatchEvent(new Event('resize'));\r\n                                    this.setState({ imgHeight: 'auto' });\r\n                                }}\r\n                            />\r\n                        </a>\r\n                        ))}\r\n                    </Carousel>\r\n                <div className=\"cm-flex cm-mtb-10 cm-ai-c index-scroll\">\r\n                    <div className=\"cm-flex cm-ai-c\" ref=\"box\">\r\n                    {this.state.typeList.map((item,index)=>{\r\n                        return(\r\n                            <div key={index} className={this.state.activeType == index?\"index-type-active\":\"index-type\"} onClick={()=>this.changeType(index)}>{item.name}</div>\r\n                        )\r\n                    })}\r\n                    </div>\r\n                </div>\r\n                <div className=\"index-box\">\r\n                    {this.state.productList.map((item,index)=>{\r\n                        return(\r\n                            <div className=\"index-product\" key={index} onClick={()=>this.goNext(item)}>\r\n                                <img src={item.productImg} alt=\"\" className=\"index-img\"/>\r\n                                <div className=\"index-des\">{item.productDes}</div>\r\n                                <div className=\"index-price\">￥{item.productPrice}</div>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </div>\r\n            </div>\r\n            </div>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}