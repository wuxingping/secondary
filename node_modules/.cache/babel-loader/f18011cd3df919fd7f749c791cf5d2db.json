{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\caoxue\\\\Desktop\\\\secondary\\\\secondary\\\\src\\\\pages\\\\personal\\\\myPublish.js\";\n\n/**\r\n * Created by Lenovo on 2019/9/4.\r\n */\n\n/**\r\n * Created by Lenovo on 2019/9/2.\r\n */\nimport React from 'react';\nimport './personal.css';\nimport { Title, List, Card } from '../../share';\nimport publish from \"../../images/personal/publish.png\";\nimport { getData, goNext, getTimeFormat, getTimeHour } from '../../utils';\nexport default class MyPublish extends React.Component {\n  constructor(props) {\n    super(props);\n    this.item = this.props.history.location.state || {};\n    console.log(this.item);\n    this.count = 0;\n    this.state = {\n      dataList: [],\n      index: 0,\n      value: null\n    };\n  }\n\n  componentDidMount() {\n    this.goLogin();\n    this.getMyProductList(1);\n    var textarea = document.getElementsByTagName(\"textarea\");\n\n    for (var i = 0; i < textarea.length; i++) {\n      textarea[i].style.height = '3.5rem';\n      textarea[i].scrollTop = 0; //防抖动\n\n      textarea[i].style.height = textarea[i].scrollHeight + 'px';\n      textarea[i].addEventListener('input', function (e) {\n        e.target.style.height = 'auto';\n        e.target.scrollTop = 0; //防抖动\n\n        if (e.target.scrollHeight < 35) {\n          e.target.style.height = '35px';\n        } else {\n          e.target.style.height = e.target.scrollHeight + 'px';\n        }\n      });\n    }\n  }\n\n  goLogin() {\n    getData({\n      method: 'post',\n      url: 'getChatList',\n      data: {},\n      successCB: res => {\n        console.log(res);\n      }\n    });\n  }\n\n  onLeftClick() {\n    this.props.history.push({\n      pathname: \"messageDetail\"\n    });\n  }\n\n  changeState(e) {\n    console.log(e);\n    this.setState({\n      value: e.target.value\n    });\n  }\n\n  getMyProductList() {\n    getData({\n      method: 'post',\n      url: 'getMyProductList',\n      data: {\n        type: 1\n      },\n      successCB: res => {\n        this.setState({\n          dataList: res.result.list\n        });\n        console.log(res);\n      }\n    });\n  }\n\n  onLeftClick() {\n    this.props.history.goBack();\n  }\n\n  goPublish(e, item) {\n    e.stopPropagation();\n    goNext(this, \"publish\", item);\n  }\n\n  render() {\n    var user = JSON.parse(localStorage.getItem(\"userInfo\")) || {};\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(Title, {\n      title: \"\\u6211\\u53D1\\u5E03\\u7684\",\n      onLeftClick: this.onLeftClick.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"cm-ptb-018 cm-mlr-018 cm-border-bottom-gary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"cm-flex cm-ai-c\",\n      onClick: () => this.goNextPage(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: publish,\n      alt: \"\",\n      className: \"cm-img-04 cm-border-radius-half\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"cm-c-999 cm-ml-018 cm-fs-026\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"\\u6211\\u53D1\\u5E03\\u7684\\u5B9D\\u8D1D\\u5171\", React.createElement(\"span\", {\n      className: \"cm-c-main cm-fs-028\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \" \", this.state.dataList.length, \" \"), \"\\u4EF6\"))), React.createElement(\"div\", {\n      className: \"cm-p-018\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, this.state.dataList.map((item, index) => {\n      return React.createElement(Card, {\n        key: index,\n        onClick: () => goNext(this, \"indexDetail\", item.id),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"cm-flex cm-jc-sb cm-ai-c cm-plr-010 cm-mtb-018\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"cm-flex cm-ai-c\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: item.productImgs,\n        alt: \"\",\n        className: \"cm-img-12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"cm-ml-018\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"cm-c-333\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, item.productDesc), React.createElement(\"div\", {\n        className: \"cm-c-main cm-fs-030 cm-mt-018\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"\\uFFE5\", item.productPrice))), React.createElement(\"div\", {\n        className: \"cm-tx-r\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"cm-btn-border\",\n        onClick: e => this.goPublish(e, item),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108\n        },\n        __self: this\n      }, \"\\u4FEE\\u6539\"), React.createElement(\"div\", {\n        className: \"cm-c-999 cm-pt-018 cm-fs-022\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, getTimeFormat(item.createTime)))));\n    }))));\n  }\n\n}","map":{"version":3,"sources":["C:\\Users\\caoxue\\Desktop\\secondary\\secondary\\src\\pages\\personal\\myPublish.js"],"names":["React","Title","List","Card","publish","getData","goNext","getTimeFormat","getTimeHour","MyPublish","Component","constructor","props","item","history","location","state","console","log","count","dataList","index","value","componentDidMount","goLogin","getMyProductList","textarea","document","getElementsByTagName","i","length","style","height","scrollTop","scrollHeight","addEventListener","e","target","method","url","data","successCB","res","onLeftClick","push","pathname","changeState","setState","type","result","list","goBack","goPublish","stopPropagation","render","user","JSON","parse","localStorage","getItem","bind","goNextPage","map","id","productImgs","productDesc","productPrice","createTime"],"mappings":"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","sourcesContent":["/**\r\n * Created by Lenovo on 2019/9/4.\r\n */\r\n/**\r\n * Created by Lenovo on 2019/9/2.\r\n */\r\nimport React from 'react';\r\nimport './personal.css';\r\nimport {Title,List,Card} from '../../share';\r\nimport publish from \"../../images/personal/publish.png\";\r\nimport {getData, goNext,getTimeFormat,getTimeHour} from '../../utils';\r\nexport default class MyPublish extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.item = this.props.history.location.state ||{};\r\n        console.log(this.item);\r\n        this.count = 0;\r\n        this.state = {\r\n            dataList:[],\r\n            index:0,\r\n            value:null\r\n        }\r\n    }\r\n    componentDidMount(){\r\n        this.goLogin();\r\n        this.getMyProductList(1);\r\n        var textarea = document.getElementsByTagName(\"textarea\");\r\n        for(var i=0;i<textarea.length;i++){\r\n            textarea[i].style.height = '3.5rem';\r\n            textarea[i].scrollTop = 0; //防抖动\r\n            textarea[i].style.height = textarea[i].scrollHeight + 'px';\r\n            textarea[i].addEventListener('input',function (e) {\r\n                e.target.style.height = 'auto';\r\n                e.target.scrollTop = 0; //防抖动\r\n                if(e.target.scrollHeight<35){\r\n                    e.target.style.height = '35px';\r\n                }else {\r\n                    e.target.style.height = e.target.scrollHeight + 'px';\r\n                }\r\n            })\r\n        }\r\n    }\r\n    goLogin(){\r\n        getData({\r\n            method: 'post',\r\n            url: 'getChatList',\r\n            data: {},\r\n            successCB: (res) => {\r\n                console.log(res);\r\n            }\r\n        })\r\n    }\r\n    onLeftClick(){\r\n        this.props.history.push({pathname:\"messageDetail\"});\r\n    }\r\n    changeState(e){\r\n        console.log(e);\r\n        this.setState({\r\n            value:e.target.value\r\n        })\r\n    }\r\n    getMyProductList(){\r\n        getData({\r\n            method: 'post',\r\n            url: 'getMyProductList',\r\n            data: {\r\n                type:1\r\n            },\r\n            successCB: (res) => {\r\n                this.setState({\r\n                    dataList:res.result.list\r\n                })\r\n               console.log(res);\r\n            }\r\n        })\r\n    }\r\n    onLeftClick(){\r\n        this.props.history.goBack()\r\n    }\r\n    goPublish(e,item){\r\n        e.stopPropagation();\r\n        goNext(this,\"publish\",item);\r\n    }\r\n    render() {\r\n        var user = JSON.parse(localStorage.getItem(\"userInfo\"))||{};\r\n        return <div>\r\n            <Title title=\"我发布的\" onLeftClick={this.onLeftClick.bind(this)}/>\r\n            <div>\r\n                <div className=\"cm-ptb-018 cm-mlr-018 cm-border-bottom-gary\">\r\n                <div className=\"cm-flex cm-ai-c\" onClick={() => this.goNextPage()}>\r\n                    <img src={publish} alt=\"\" className=\"cm-img-04 cm-border-radius-half\"/>\r\n                    <div className=\"cm-c-999 cm-ml-018 cm-fs-026\">我发布的宝贝共<span className=\"cm-c-main cm-fs-028\"> {this.state.dataList.length} </span>件</div>\r\n                </div>\r\n                </div>\r\n                <div className=\"cm-p-018\">\r\n                {this.state.dataList.map((item,index)=>{\r\n                    return(\r\n                        <Card key={index} onClick={()=>goNext(this,\"indexDetail\",item.id)}>\r\n                            <div className=\"cm-flex cm-jc-sb cm-ai-c cm-plr-010 cm-mtb-018\">\r\n                                <div className=\"cm-flex cm-ai-c\">\r\n                                <img src={item.productImgs} alt=\"\" className=\"cm-img-12\"/>\r\n                                <div className=\"cm-ml-018\">\r\n                                    <div className=\"cm-c-333\">{item.productDesc}</div>\r\n                                    <div className=\"cm-c-main cm-fs-030 cm-mt-018\">￥{item.productPrice}</div>\r\n                                </div>\r\n                                </div>\r\n                                <div className=\"cm-tx-r\">\r\n                                    <div className=\"cm-btn-border\" onClick={(e)=>this.goPublish(e,item)}>修改</div>\r\n                                    <div className=\"cm-c-999 cm-pt-018 cm-fs-022\">{getTimeFormat(item.createTime)}</div>\r\n                                </div>\r\n                            </div>\r\n                        </Card>\r\n                    )\r\n                })}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}